<div class="loader-wrapper" *ngIf="showLoader">
    <div class="loader-index"><span></span></div>
    <svg>
        <defs></defs>
        <filter id="goo">
            <fegaussianblur in="SourceGraphic" stddeviation="11" result="blur"></fegaussianblur>
            <fecolormatrix in="blur" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="goo"> </fecolormatrix>
        </filter>
    </svg>
</div>
<style>
div.scrollmenu {
  background-color: #333;
  overflow: auto;
  white-space: nowrap;
}
::ng-deep .singleContent aw-wizard-navigation-bar.horizontal ul.steps-indicator{
justify-content: center !important;
white-space: nowrap !important;
overflow-x: auto !important;
}

::ng-deep aw-wizard-navigation-bar.horizontal ul.steps-indicator{
justify-content: unset !important;
white-space: nowrap !important;
overflow-x: auto !important;
}
::ng-deep aw-wizard-navigation-bar.horizontal.large-filled-symbols ul.steps-indicator li:not(:last-child):after{
width:calc(100% - 15px) !important;
}

::ng-deep aw-wizard-navigation-bar.horizontal ul.steps-indicator li a .label {
    width: 170px  !important;
    white-space: break-spaces !important;
}

::ng-deep aw-wizard-navigation-bar ul.steps-indicator li a .label {
    text-transform: capitalize !important;
}

::ng-deep aw-wizard-navigation-bar.horizontal.large-filled-symbols ul.steps-indicator li .step-indicator {
    top: -45px !important;
    left: calc(50% - 14px) !important;
    position: absolute;
    width: 40px !important;
    height: 40px !important;
    text-align: center;
    vertical-align: unset !important;
    line-height: 42px !important;
    transition: 0.25s;
    border-radius: 100%;
    background-color: #E6E6E6;
    color: black;
    font-size: 12px !important;
}

::ng-deep aw-wizard-navigation-bar.horizontal.large-filled-symbols ul.steps-indicator li.current .step-indicator {
  background-color: #ef9e1d !important;

  color: black;
}

::ng-deep .pane{
width:100% !important;
}

::ng-deep .switch-sm .switch {
    width: 30px;
    height: 20px;
    margin-top: 10px;
    margin-bottom: 0px;
}
::ng-deep ::placeholder
{
  color: #e1e3e6 !important;
  opacity: 0.3;
}


::ng-deep .switch-sm .switch .switch-state:before {
    height: 12px;
    width: 12px;
    left: 4px;
    bottom: 4px;
}


::ng-deep .ng-select-container {
    background-color: #ffffff !important;
}

::ng-deep .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{
    background-color: #b6b8e7 !important;
}

::ng-deep .ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-selected{
    background-color: #ffffff !important;
}

::ng-deep aw-wizard-navigation-bar ul.steps-indicator *{
pointer-events: none;
}

::ng-deep .nav-tabset:not(.disable-style) .nav-tab:not(.active):not(.disabled){
pointer-events: none;
}

::ng-deep .nav-tabset:not(.disable-style) {
    list-style: none;
    padding: 0;
    display: flex;
    align-items: center;
    text-align: center;
}

table, th, td,tr {
  border: 1px solid #f2f4ff;
}
</style>
<app-breadcrumb [title]="'Counter Party Renewal/Enhancement'" [items]="['Counter Party']" [active_item]="'Renewal or Enhancement'"></app-breadcrumb>
<div class="container-fluid text-center" *ngIf="false">
    <img class="b-r-10" src="assets/images/user/Maintenance.png" alt="" style="
    width: 500px;
    height: 300px;
">
</div>

<aw-wizard navBarLayout="large-filled-symbols" *ngIf="show" [awNavigationMode] navigateBackward="allow" navigateForward="allow">
        <aw-wizard-step [stepTitle]="'Auto-Renewal CPA'"  [awSelectedStep]="initialWip" id="initial" class="initial" *ngIf="initialStageStatus">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-percent"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50" >
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="initialCreditCpaCPDetailsNP">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card p-4 " style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Counter Party Basic Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                            <div class="row" >
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Type</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>Renewal</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="card p-4" style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Proposal Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let proposal of proposalList; let i = index" style="visibility: visible;">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Name of the Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Proposed Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.proposed}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Status</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                        <label>Active</label>
                                                                    </div>
                                                                    <ng-template #elseproposalDetailsFlag>
                                                                        <label>InActive</label>
                                                                    </ng-template>
                                                                </div>
                                                            </div>
                                                            <br> <br> <br>
                                                        </div>
                                                    </div>

                                                    <div class="card p-4 " style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Limit Eligibility:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index" style="visibility: visible;">
                                                            <div class="row" >
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Anchor Name</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Product</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.product}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Regular Limit(Current If any)</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.currentLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Regular Limit(Proposed)</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.proposedLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Eligible Limit</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.eligibleLimit}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Ad-hoc Limit(possible)</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.adhocLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Credit Period</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.creditPeriod}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Door-To-Door</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.doorToDoor}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Invoice Ageing</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.invoiceAgeing}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Expected Growth in To</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.expectedGrowth}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Monthly Average To With Anchor</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.monthlyAverage}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Approtioned Exisiting WC Limits</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.approtionedLimits}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Exisiting SCF Limit From Others</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.existingScfLimits}}</label>
                                                                            <span  class="suffix-rp"> days</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Model Limit</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.modelLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Customer Requested Amount</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Anchor Recommended Amount</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Receivables</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.receivables}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Inventory</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.inventory}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Creditors</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.creditor}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Expected monthly turnover with anchor</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Model Adhoc Limit</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <br> <br> <br>
                                                        </div>
                                                    </div>

                                                    <div class="card p-4 " style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >TermSheet Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let termSheet of termSheetList; let i = index" style="visibility: visible;">
                                                            <div class="row" >
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Anchor Name</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Product</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.product}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Regular Limit</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.regularLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Ad-hoc Limit</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.adhocLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Credit Period</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.creditPeriod}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Door-to-Door</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.doorToDoor}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Invoice Ageing</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.invoiceAgeing}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Margin</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.margin}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Interest rate</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.interestRate}}</label>
                                                                            <span  class="suffix-rp">%</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>PF</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.pf}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.renewal}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Interest Rate Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.interestRateType}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Renewal Period</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.renewalPeriod}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Application Of Interest</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.applyOfInterest}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Interest Borne By</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.interestBorneBy}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Penalty Borne By</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.penaltyBorneBy}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Invoice Funding</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.invoiceFunding}}</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Grace Days</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{termSheet.graceDays}}</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <br> <br> <br>
                                                        </div>
                                                    </div>

                                                    <div class="card p-4 " *ngIf="debtProfileList.length > 0" style="visibility: hidden;" >
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Debt Profile:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let debtProfile of debtProfileList; let i = index" style="visibility: visible;">
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Bank/FI</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.bankFI}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Facility Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.facilityType}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Tenure</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.tenure}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Date(Sanction)</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.sanctionDate}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Limit Sanctioned:</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.sanctionLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>O/S as On</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.outstandingOnDate}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>EMI</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.emi}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Interest</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.interestRate}}</label>
                                                                            <span  class="suffix-rp">%</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Security</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.security}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>General or Specific Limit Calculation</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.specificLimit}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Remarks</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>{{debtProfile.remarks}}</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="card p-4 " style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Collateral:</label>
                                                            <hr>
                                                        </div>
                                                        <div class="row" *ngFor="let collateral of collateralValueList;  let i = index" style="visibility: visible;">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{collateral.value}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="card p-4 " style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Due Diligence Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div class="row" *ngFor="let DueDiligence of dueDiligenceValues;  let i = index" style="visibility: visible;">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>{{dueDiligenceValues[i].dueDiligenceMasterEntity.displayName}}</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{DueDiligence.value}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="card p-4 " style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Beneficiary Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div class="row"  *ngFor="let anchorBeneficiary of beneficiaryList;  let i = index"  style="visibility: visible;">
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Beneficiary Type</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{anchorBeneficiary.benType}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Beneficiary Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{anchorBeneficiary.benName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Bank Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{anchorBeneficiary.bankName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Bank Account Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{anchorBeneficiary.bankAcctNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Bank Ifsc Code</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{anchorBeneficiary.bankifscCode}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Bank Branch</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{anchorBeneficiary.bankBranchName}}</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                           <button class="btn btn-primary pull-right"  type="submit" (click)="nextInitialCreditCpaCpDetails();">Next</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="Documents"  nav class="nav-pills nav-primary" [active]="initialDocChecklistCpaNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="card-body default-accordion" style="padding: 12px;">
                                                <h5>Uploaded Documents</h5>
                                                <ngb-accordion [closeOthers]="true" activeIds="static0" #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                                    <ngb-panel id="static{{i}}" *ngIf="reportDetails.appId != newAppId;">
                                                        <ng-template ngbPanelTitle>
                                                            <div *ngIf="reportDetails.appType == 1;">
                                                                Initial Onboarded Documents
                                                            </div>
                                                            <div *ngIf="reportDetails.appType == 2;">
                                                                Renewal Documents {{reportDetails.wfType}}
                                                            </div>
                                                            <div *ngIf="reportDetails.appType == 3;">
                                                                Enhancement Documents {{reportDetails.wfType}}
                                                            </div>
                                                        </ng-template>
                                                        <ng-template ngbPanelContent>
                                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                                <div *ngIf="docType.type == 2;">
                                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                    <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                        <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                            <div>
                                                                                <label><b>{{documents.docList}}</b></label>
                                                                            </div>
                                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="col-sm-10 mb-2">
                                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                                </div>
                                                                                <div class="col-sm-2 mb-2">
                                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="docType.type == 3;">
                                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                    <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                        <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                            <div>
                                                                                <label><b>{{documents.docList}}</b></label>
                                                                            </div>
                                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="col-sm-10 mb-2">
                                                                                    <label  class="custom-file"  required="">{{file.fileName}}</label>
                                                                                </div>
                                                                                <div class="col-sm-2 mb-2">
                                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="docType.type == 4;">
                                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                    <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                        <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                            <div>
                                                                                <label><b>{{documents.docList}}</b></label>
                                                                            </div>
                                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="col-sm-10 mb-2">
                                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                                </div>
                                                                                <div class="col-sm-2 mb-2">
                                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-template>
                                                    </ngb-panel>
                                                </ngb-accordion>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary pull-right" type="submit" (click)="nextInitialDocChecklist();" *ngIf="cp0Submit">Next</button>
                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousInitialDocChecklist();">Previous</button>
                            </ngx-tab>

                            <ngx-tab tabTitle="Remarks"  nav class="nav-pills nav-primary" [active]="initialCreditCpaRemarksNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12 mb-3 mb-0">
                                            <label>Type the Remarks:</label>
                                            <textarea id="cpaRemark" [(ngModel)]="cpaRemark" name="cpaRemark" rows="10" cols="100" class="mt-2 form-control input-air-primary b-t-primary border-3" style="border-radius:'15px'"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary pull-right" type="submit" (click)="cpaWithOutPopUp(35,2,'CP_BUSINESS_LEAD');" *ngIf="cp0Submit">Submit</button>
                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousInitialRemarksCpa();">Previous</button>
                            </ngx-tab>

                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Business'"  [awSelectedStep]="firstWip" id="first" class="first">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-user"></i>
                        </div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body" *ngIf="cp1Submit">
                        <ngx-tabset type="pills" class="tabbed-card width-50">
                            <ngx-tab tabTitle="Basic Details" class="nav-pills nav-primary" [active]="deDupeNp">
                                <div class="ms-3 me-3 card" *ngFor="let cpaRemark of remarkArray;let i=index">
                                    <div *ngIf="cpaRemark.stage.stageId =='CP0'">
                                    <div class="tab-pane fade show fw-bold ms-2 ">
                                       <label>Auto-Renewal CPA Remarks</label>
                                    </div>
                                    <div class=" ms-3 me-2 mb-2" >
                                      <textarea id="cpaRemark1" [(ngModel)]="cpaRemark.remarks"  name="cpaRemark" rows="10" cols="100" class="mt-2 form-control input-air-primary b-t-primary border-3" style="border-radius:'15px'" readonly></textarea>
                                    </div>
                                  </div>
                                </div>
                                <div class="ms-3 me-3">
                                    <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': cpBasicValidate}">
                                        <div class="tab-pane fade show fw-bold">
                                            <label>Counter Party Basic Details:</label>
                                        </div>

                                        <div class="col-form-label pt-0  ">Constitution<span class="font-danger">*</span>
                                            <select class="js-example-basic-single col-sm-12 job-select2 form-group"  id="constitution1" type="text"  name="constitution" [(ngModel)]="constitution" required="" (change)="checkContitution($event)">
                                                <option value="Proprietorship">Proprietorship</option>
                                                <option value="Registered Partnership">Registered Partnership</option>
                                                <option value="Unregistered Partnership">Unregistered Partnership</option>
                                                <option value="Registered LLP">Registered LLP</option>
                                                <option value="Unregistered LLP">Unregistered LLP</option>
                                                <option value="Private Company">Private Company</option>
                                                <option value="Public Company Listed">Public Company Listed</option>
                                                <option value="Public Company Unlisted">Public Company Unlisted</option>
                                                <div class ="invalid-feedback">Please Enter valid Constitution</div>
                                            </select>
                                        </div>

                                        <div class="form-group ">
                                            <label for="panNumber">PAN</label>
                                            <input class="form-control" type="text" id="panNumber" placeholder="AAAAA1234A" name="panNumber" [(ngModel)]="panNumber" required="" maxlength="10" minlength="10" pattern="([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}$" readonly>
                                            <div class ="invalid-feedback">Please Enter valid PAN</div>
                                        </div>
                                        <div class="form-group">
                                            <label for="companyName">Company Name</label>
                                            <input class="form-control"  type="text" id="companyName"  name="companyName" [(ngModel)]="companyName" required="" minlength="1"  maxlength="45" >
                                            <div class ="invalid-feedback">Please Enter valid Company Name</div>
                                        </div>
                                        <div class="form-group">
                                            <label for="gstNumber">GST Number</label>
                                            <input class="form-control"  type="text" id="gstNumber" placeholder="Example: x22-AAAAA-0000-A-1-Z-5" name="gstNumber" [(ngModel)]="gstNumber"   maxlength="15" pattern="([0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1})$">
                                            <div class ="invalid-feedback">Please Enter valid GST Number</div>
                                        </div>
                                        <div class="form-group">
<!--                                            <label for="cinNumber">CIN Number</label>-->
<!--                                            <input class="form-control"  type="text" id="cinNumber"  name="cinNumber" [(ngModel)]="cinNumber" minlength="21" maxlength="21" pattern="([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$" readonly>-->
<!--                                            <div class ="invalid-feedback">Please Enter valid CIN Number</div>-->
                                            <label for="cinNumber">CIN Number</label><span class="font-danger"  *ngIf="cinMand">*</span>
                                            <input class="form-control" *ngIf="!cinMand" id="cinNumber" type="text" (input)="cinChange();" oninput="this.value = this.value.toUpperCase()" name="cinNumber" [(ngModel)]="cinNumber"  maxlength="21" minlength="21" pattern="([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$">
                                            <input class="form-control" *ngIf="cinMand" id="cinNumber" type="text"  (input)="cinChange();" oninput="this.value = this.value.toUpperCase()" name="cinNumber" [(ngModel)]="cinNumber"  required="" maxlength="21" minlength="21" pattern="([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$">
                                            <div class ="invalid-feedback">Please Enter valid CIN Number</div>
                                        </div>
                                        <div class="col-form-label pt-0">Activity<span class="font-danger">*</span>
                                            <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group" type="text" name="activity" [(ngModel)]="activity" required="">
                                                <option value="Traders">Traders</option>
                                                <option value="Retailers">Retailers</option>
                                                <option value="Distributors">Distributors</option>
                                                <option value="Manufactures">Manufactures</option>
                                            </select>
                                            <div class ="invalid-feedback">Please Select Activity</div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cpCIty">City/District</label>
                                            <input class="form-control" type="text"  name="cpCity1" id="cpCIty" [(ngModel)]="cpCIty" required=""   minlength="1" maxlength="20" pattern="^[a-zA-Z ]*$">
                                            <div class ="invalid-feedback">Please Enter valid City</div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cpState">State</label>
                                            <div class="input-group">
                                                <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group" id="cpState" type="text" name="cpState" [(ngModel)]="cpState" required="" >
                                                    <option value="none" selected disabled hidden>Select an Option</option>
                                                    <option value="Andhra Pradesh">Andhra Pradesh</option>
                                                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                    <option value="Assam">Assam</option>
                                                    <option value="Bihar">Bihar</option>
                                                    <option value="Chhattisgarh">Chhattisgarh</option>
                                                    <option value="Delhi">Delhi</option>
                                                    <option value="Goa">Goa</option>
                                                    <option value="Gujarat">Gujarat</option>
                                                    <option value="Haryana">Haryana</option>
                                                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                    <option value="Jharkhand">Jharkhand</option>
                                                    <option value="Karnataka">Karnataka</option>
                                                    <option value="Kerala">Kerala</option>
                                                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                    <option value="Maharashtra">Maharashtra</option>
                                                    <option value="Manipur">Manipur</option>
                                                    <option value="Meghalaya">Meghalaya</option>
                                                    <option value="Mizoram">Mizoram</option>
                                                    <option value="Nagaland">Nagaland</option>
                                                    <option value="Odisha">Odisha</option>
                                                    <option value="Punjab">Punjab</option>
                                                    <option value="Rajasthan">Rajasthan</option>
                                                    <option value="Sikkim">Sikkim</option>
                                                    <option value="Tamil Nadu">Tamil Nadu</option>
                                                    <option value="Telangana">Telangana</option>
                                                    <option value="Tripura">Tripura</option>
                                                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                    <option value="Uttarakhand">Uttarakhand</option>
                                                    <option value="West Bengal">West Bengal</option>
                                                </select>
                                            </div>
                                            <div class ="invalid-feedback">Please Enter valid State</div>
                                        </div>
                                        <div class="col-form-label pt-0 ">Source<span class="font-danger">*</span>
                                            <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group"  type="text" name="source" [(ngModel)]="source" [attr.disabled]="isDropdownDisabled ? true : null"   readonly>
                                                <option value="Direct">Direct</option>
                                                <option value="Yubi">Yubi</option>
                                                <option value="WebSite">WebSite</option>
                                                <option value="Others">Others</option>
                                                <div class ="invalid-feedback">Please Enter valid Source</div>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="subSource">Subsource</label>
                                            <input class="form-control"  type="text" id="subSource"  name="subSource" [(ngModel)]="subSource" (keypress)="allowAlphabetWithSpace($event)" required="" minlength="1" maxlength="40" pattern="^[a-zA-Z ]*$" [attr.disabled]="isDropdownDisabled ? true : null" readonly>
                                            <div class ="invalid-feedback">Please Enter valid Subsource</div>
                                        </div>
                                        <div class="col-form-label pt-0">RM Name<span class="font-danger">*</span>
                                            <select class="js-example-basic-single col-sm-12 job-select2 form-group" type="text" name="rmName"  [(ngModel)]="rmName" required="" maxlength="10">
                                                <option value="none" selected disabled hidden>Select an Option</option>
                                                <option value="{{rmName.email}}" *ngFor="let rmName of rmNameArray;let i=index">{{rmName.firstName}} {{rmName.lastName}}</option>

                                            </select>
                                            <div class ="invalid-feedback">Please Enter valid RM Name</div>
                                        </div>
                                        <div class="form-group">
                                            <label for="contactName">Customer Contact Name</label>
                                            <input class="form-control"  type="text" id="contactName"  name="contactName" (keypress)="allowAlphabetWithSpace($event)" [(ngModel)]="contactName" required="" minlength="1" maxlength="40" pattern="^[a-zA-Z ]*$">
                                            <div class ="invalid-feedback">Please Enter valid Contact Name</div>
                                        </div>
                                        <div class="form-group">
                                            <label for="contactMobile">Customer Contact Mobile</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend"><span class="input-group-text">+91</span></div>
                                                <input class="form-control"  type="text" id="contactMobile" placeholder="9090-808080"  name="contactMobile" [(ngModel)]="contactMobile" required="" minlength="10" maxlength="10" onlyNumbers>
                                                <div class ="invalid-feedback">Please Enter valid Contact Mobile</div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="contactEmail">Customer Contact Email</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend"><span class="input-group-text"><i class="icon-email"> </i></span></div>
                                                <input class="form-control"  type="text" placeholder="name@example.com"  id="contactEmail"  name="contactEmail" [(ngModel)]="contactEmail" required="" pattern="^([a-zA-Z0-9]+[a-zA-Z0-9_.+-]+)@([a-zA-Z0-9_.+-]+\.(com|co.in|in)$)">
                                                <div class ="invalid-feedback">Please Enter valid Contact Email</div>
                                            </div>
                                        </div>
<!--                                          <div class="col-form-label pt-0 ">Type<span class="font-danger">*</span>-->
<!--                                            <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group"  id="cpType"  type="text" name="cpType" [(ngModel)]="cpType" >-->
<!--                                                <option value="Renewal">Renewal</option>-->
<!--                                                <div class ="invalid-feedback">Please Enter valid Type</div>-->
<!--                                            </select>-->
<!--                                          </div>-->
                                        <div class="form-group">
                                            <label for="cpType">Type</label>
                                            <div class="input-group">
                                                <input class="form-control"  type="text" id="cpType"  name="cpType" [(ngModel)]="cpType" required="" readonly>
                                                <div class ="invalid-feedback">Please Enter valid Type</div>
                                            </div>
                                        </div>

<!--                                        <div class="form-group m-form__group">-->
<!--                                            <label for="custFacilityTenure">Facility Tenure(In Months)</label><span class="font-danger">*</span>-->
<!--                                            <div class="input-group">-->
<!--                                                <input class="form-control" id="custFacilityTenure" type="text"  name="custFacilityTenure" [(ngModel)]="custFacilityTenure" required="" pattern="[0-9]{1,2}" onlyNumbers>-->
<!--                                                <div class ="invalid-feedback">Please Enter Facility Tenure</div>-->
<!--                                            </div>-->
<!--                                        </div>-->
                                        <div class="tab-pane fade show mb-2 me-2" >
                                            <button class="btn btn-primary pull-right me-1" type="submit" [disabled]="cPBasicFlag1" (click)="nextDeDupe();">Next</button>
                                            <button class="btn btn-success  pull-right me-1" type="submit"  *ngIf="!cPBasicFlag2" (click)="cpBasicDetailsSubmit('save');">Save</button>
                                            <button class="btn btn-success  pull-right me-1" type="submit"  *ngIf="cPBasicFlag2" (click)="cpBasicDetailsSubmit('update');">Update</button>

                                        </div>
                                    </form>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle="Proposal"  nav class="nav-pills nav-primary"  [bypassDOM]="true" [active]="proposalNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="tab-pane fade show " style="width:100%; important!">
                                            <div class="tab-pane fade show">
                                                <div class="fw-bold mt-2 ms-2 mb-2 me-2">
                                                    <label>Anchor Proposed Details</label>
                                                    <i class="fa fa-plus-circle pull-right" style="font-size:25px; color:#6366ce;" (click)="addProposalValue()"></i>
                                                </div>
                                                <div class="card" *ngFor="let proposalArr of proposalArray; let i = index">
                                                    <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': proposalValidate}" style="visibility: visible;">
                                                      <div *ngIf="proposalArr.status == true || proposalArr.status == null">
                                                        <div class="tab-pane fade show me-2 mt-2">
                                                            <i class="fa fa-trash-o pull-right" style="font-size:25px; color:#6366ce; cursor: pointer;" (click)="deleteProposalValue(proposalArr.id,i,proposalArr.appId,proposalArr.custId,proposalArr.product,proposalArr.type,proposalArr.proposed);"></i>
                                                        </div>
                                                          <div *ngIf="proposalArr.status == true" >
                                                                <div class="col-form-label pt-0 mt-3 ms-3 me-3">Name of the Anchor<span class="font-danger">*</span>
                                                                    <select class="form-control js-example-basic-single form-group" type="text" name="custId{{i}}" [(ngModel)]="proposalArr.custId" [attr.disabled]="isDropdownDisabled ? true : null" required="" (change)="getAnchorProducts(proposalArr.custId,i,'',true);">
                                                                        <option value="{{anchorList[k].appId.customerInfoEntity.id}}" *ngFor="let anchor of anchorList;let k=index">{{anchorList[k].appId.customerInfoEntity.customerName}}</option>
                                                                    </select>
                                                                    <div class ="invalid-feedback">Please Select Anchor Name</div>
                                                                </div>
                                                                <div class="col-form-label pt-0 ms-3 me-3">Product<span class="font-danger">*</span>
                                                                    <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group" type="text" id="product{{i}}" [attr.disabled]="isDropdownDisabled ? true : null" name="product{{i}}" [(ngModel)]="proposalArr.product" required="">
                                                                        <option ></option>
                                                                    </select>
                                                                    <div class ="invalid-feedback">Please Select Product Type</div>
                                                                </div>
                                                                  </div>

                                                          <div *ngIf="proposalArr.status == null">
                                                              <div class="col-form-label pt-0 mt-3 ms-3 me-3">Name of the Anchor<span class="font-danger">*</span>
                                                                  <select class="form-control js-example-basic-single form-group" type="text" name="custId{{i}}" [(ngModel)]="proposalArr.custId" required="" (change)="getAnchorProducts(proposalArr.custId,i,'',true);">
                                                                      <option value="{{anchorList[k].appId.customerInfoEntity.id}}" *ngFor="let anchor of anchorList;let k=index">{{anchorList[k].appId.customerInfoEntity.customerName}}</option>
                                                                  </select>
                                                                  <div class ="invalid-feedback">Please Select Anchor Name</div>
                                                              </div>
                                                              <div class="col-form-label pt-0 ms-3 me-3">Product<span class="font-danger">*</span>
                                                                  <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group" type="text" id="product{{i}}" name="product{{i}}" [(ngModel)]="proposalArr.product" required="">
                                                                      <option ></option>
                                                                  </select>
                                                                  <div class ="invalid-feedback">Please Select Product Type</div>
                                                              </div>
                                                          </div>

<!--                                                        <div class="col-form-label pt-0 ms-3 me-3">Type<span class="font-danger">*</span>-->
<!--                                                            <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group" type="text"  name="type{{i}}" [(ngModel)]="proposalArr.type" required="">-->
<!--                                                                <option value="New">New</option>-->
<!--                                                            </select>-->
<!--                                                            <div class ="invalid-feedback">Please Select Type</div>-->
<!--                                                        </div>-->
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Proposed Amount</label><span class="font-danger">*</span>
                                                            <input class="form-control" type="text"  name="proposed{{i}}" [(ngModel)]="proposalArr.proposed" required="" maxlength="10" minlength="1" pattern="[+-]?([0-9]*[.])?[0-9]+" (keypress)="allowNumbersWithDot($event)">
                                                            <div class ="invalid-feedback">Please Enter Proposed</div>
                                                            <small>{{ proposalArr.proposed | numberToWordsPipe }} </small>
                                                        </div>
                                                      </div>
                                                        <div *ngIf="proposalArr.status == false">
<!--                                                            <div class="tab-pane fade show me-2 mt-2">-->
<!--                                                                <i class="fa fa-trash-o pull-right" style="font-size:25px; color:#6366ce; cursor: pointer;" (click)="deleteProposalValue(proposalArr.id,i);"></i>-->
<!--                                                            </div>-->
                                                            <div class="col-form-label pt-0 mt-3 ms-3 me-3">Name of the Anchor<span class="font-danger">*</span>
                                                                <input class="form-control js-example-basic-single form-group" type="text" [attr.disabled]="isDropdownDisabled ? true : null" name="custId{{i}}" [(ngModel)]="proposalArr.name" required="">
                                                                <div class ="invalid-feedback">Please Select Anchor Name</div>
                                                            </div>
                                                            <div class="col-form-label pt-0 ms-3 me-3">Product<span class="font-danger">*</span>
                                                                <input class="form-control js-example-basic-single col-sm-12 job-select2 form-group" [attr.disabled]="isDropdownDisabled ? true : null" type="text" id="product{{i}}" name="product{{i}}" [(ngModel)]="proposalArr.product" required="" readonly>
                                                                <div class ="invalid-feedback">Please Select Product Type</div>
                                                            </div>

<!--                                                            <div class="col-form-label pt-0 ms-3 me-3">Type<span class="font-danger">*</span>-->
<!--                                                                <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group" type="text"  name="type{{i}}" [(ngModel)]="proposalArr.type" required="" readonly>-->
<!--                                                                    <option value="New">New</option>-->
<!--                                                                </select>-->
<!--                                                                <div class ="invalid-feedback">Please Select Type</div>-->
<!--                                                            </div>-->
                                                            <div class="form-group ms-3 me-3">
                                                                <label>Proposed Amount</label><span class="font-danger">*</span>
                                                                <input class="form-control" type="text"  name="proposed{{i}}" [(ngModel)]="proposalArr.proposed" required="" maxlength="10" minlength="1" pattern="[+-]?([0-9]*[.])?[0-9]+" (keypress)="allowNumbersWithDot($event)" readonly>
                                                                <div class ="invalid-feedback">Please Enter Proposed</div>
                                                                <small>{{ proposalArr.proposed | numberToWordsPipe }} </small>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show mb-2 me-2">
                                            <button class="btn btn-primary pull-right" [disabled]="cpProposed1" *ngIf="!disableNextProposed" type="submit" (click)="proposalAnchorValidation();getCounterPartyById(newAppId);gotoRiskOrCredit();">Next</button>
                                            <button class="btn btn-success pull-right me-1" type="submit" (click)="proposalSubmit('save');" *ngIf="!cpProposed2" [disabled]="cpProposed2" >Save</button>
                                            <button class="btn btn-success pull-right me-1" type="submit" *ngIf="cpProposed2" (click)="proposalSubmit('update');">Update</button>
                                            <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousProposal();">Previous</button>
                                        </div>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="Upload Data" nav class="nav-pills nav-primary" [active]="uploadDataNp">
                                <div class="container-fluid">
                                    <div class="row mt-3">
                                        <div class="col-form-label pt-0 me-3">Assessment Type<span class="font-danger">*</span>
                                            <select class="js-example-basic-single form-group" *ngIf="assessmentKycFlag" [(disabled)]="assessmentTypeFlag" type="text" (change)="selectAssessmentType($event)" [(ngModel)]="assessmentType" name="assessmentType">
                                                <option value="none" selected disabled hidden>Select Assessment Type</option>
                                                <option value="KYC">KYC</option>
                                                <option value="Financial">Financial</option>
                                                <option value="Cashflow">Cashflow</option>
                                            </select>
                                            <select class="js-example-basic-single form-group" *ngIf="!assessmentKycFlag" [(disabled)]="assessmentTypeFlag" type="text" (change)="selectAssessmentType($event)" [(ngModel)]="assessmentType" name="assessmentType">
                                                <option value="none" selected disabled hidden>Select Assessment Type</option>
                                                <option value="Financial">Financial</option>
                                                <option value="Cashflow">Cashflow</option>
                                            </select>
                                        </div>

                                        <div class="col-sm-12">
                                            <div *ngFor="let docType of documentMaster;let j=index">
                                                <div *ngIf="docType.type == 3;">
                                                    <h4 class="mt-2" *ngIf="assessmentType">{{docType.displayName}}</h4>
                                                    <div *ngFor="let docCategory of docType.documentCategoryEntities;let j=index">
                                                        <div *ngIf="docCategory.displayName == anchorProduct && docCategory.category == constitution;">
                                                            <div *ngFor="let docList of docCategory.documentListEntities;let k=index">
                                                                <div *ngIf="docList.category == assessmentType;">
                                                                    <div *ngIf="docList.mandatory == 1 && docList.status == 1;">
                                                                        <div style="display:flex;">
                                                                            <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                        </div>
                                                                        <div class="custom-file" style="display:flex;">
                                                                            <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}"  type="file"  [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                        </div>
                                                                        <div *ngFor="let documents of docReports;let i=index">
                                                                            <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                                <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                                    <div class="input-group">
                                                                                        <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                        <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div *ngIf="docList.mandatory == 0 && docList.status == 1;">
                                                                        <div style="display:flex;">
                                                                            <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                        </div>
                                                                        <div class="custom-file" style="display:flex;">
                                                                            <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                        </div>

                                                                        <div *ngFor="let documents of docReports;let i=index">
                                                                            <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                                <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                                    <div class="input-group">
                                                                                        <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                        <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div *ngIf="docList.mandatory == 2 && docList.status == 1;">
                                                                        <div style="display:flex;">
                                                                            <input type="checkbox" (change)="docCheckbox($event,docType.id,docCategory.id,docList.id);">
                                                                            <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                        </div>
                                                                        <div class="custom-file" style="display:flex;">
                                                                            <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                        </div>
                                                                        <div *ngFor="let documents of docReports;let i=index">
                                                                            <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                                <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                                    <div class="input-group">
                                                                                        <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                        <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr style="width:100%; margin-left:0; border-top: 3px solid red;" class="pe-3 mt-3">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div *ngFor="let docType of documentMaster;let k=index">
                                                <div *ngIf="docType.type == 2;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let docCategory of docType.documentCategoryEntities;let j=index">
                                                        <div *ngIf="docCategory.displayName == constitution;">
                                                            <div *ngFor="let docList of docCategory.documentListEntities;let k=index">
                                                                <div *ngIf="docList.mandatory == 1 && docList.status == 1;">
                                                                    <div style="display:flex;">
                                                                        <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                    </div>
                                                                    <div class="custom-file" style="display:flex;">
                                                                        <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}"  type="file"  [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                    </div>
                                                                    <div *ngFor="let documents of docReports;let i=index">
                                                                        <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                            <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="input-group">
                                                                                    <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                    <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                    <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                                    <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="docList.mandatory == 0 && docList.status == 1;">
                                                                    <div style="display:flex;">
                                                                        <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                    </div>
                                                                    <div class="custom-file" style="display:flex;">
                                                                        <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                    </div>

                                                                    <div *ngFor="let documents of docReports;let i=index">
                                                                        <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                            <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="input-group">
                                                                                    <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                    <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                    <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                                    <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="docList.mandatory == 2 && docList.status == 1;">
                                                                    <div style="display:flex;">
                                                                        <input type="checkbox" (change)="docCheckbox($event,docType.id,docCategory.id,docList.id);">
                                                                        <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                    </div>
                                                                    <div class="custom-file" style="display:flex;">
                                                                        <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                    </div>
                                                                    <div *ngFor="let documents of docReports;let i=index">
                                                                        <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                            <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="input-group">
                                                                                    <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                    <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                    <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                                    <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card-body default-accordion" style="padding: 12px; margin-top: 50px;">
                                    <h5>Uploaded Documents</h5>
                                    <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                        <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                            <ng-template ngbPanelTitle>
                                                <div *ngIf="reportDetails.appType == 1;">
                                                    Initial Onboarded Documents
                                                </div>
                                                <div *ngIf="reportDetails.appType == 2;">
                                                    Renewal Documents {{reportDetails.wfType}}
                                                </div>
                                                <div *ngIf="reportDetails.appType == 3;">
                                                    Enhancement Documents {{reportDetails.wfType}}
                                                </div>
                                            </ng-template>
                                            <ng-template ngbPanelContent>
                                                <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                    <div *ngIf="docType.type == 2;">
                                                        <h4 class="mt-2">{{docType.displayName}}</h4>
                                                        <div *ngFor="let documents of reportDetails.report;let j=index">
                                                            <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                <div>
                                                                    <label><b>{{documents.docList}}</b></label>
                                                                </div>
                                                                <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                    <div class="col-sm-10 mb-2">
                                                                        <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                    </div>
                                                                    <div class="col-sm-2 mb-2">
                                                                        <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                            <i class="mt-1 fa fa-cloud-download"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="docType.type == 3;">
                                                        <h4 class="mt-2">{{docType.displayName}}</h4>
                                                        <div *ngFor="let documents of reportDetails.report;let j=index">
                                                            <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                <div>
                                                                    <label><b>{{documents.docList}}</b></label>
                                                                </div>
                                                                <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                    <div class="col-sm-10 mb-2">
                                                                        <label  class="custom-file"  required="">{{file.fileName}}</label>
                                                                    </div>
                                                                    <div class="col-sm-2 mb-2">
                                                                        <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                            <i class="mt-1 fa fa-cloud-download"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </ngb-panel>
                                    </ngb-accordion>
                                </div>

                                <button class="btn btn-primary pull-right mt-4"   type="submit" [disabled]="docValidationCheck" (click)="documentValidation(2,'save');">Next</button>
                                <button class="btn btn-secondary pull-right mt-4 me-2"   type="submit" (click)="previousUploadData();">Previous</button>
                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="businessRemarks">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" [disabled]="docValidationCheck" (click)="businessSubmit();" >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousBusinessRemarks();">Previous</button>
                                </div>
                            </ngx-tab>

                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Credit/Risk Head'"  [awSelectedStep]="secondWip" class="second">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-credit-card-alt"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50" >

                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="cPDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4 " style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="cpBasic.applicationEntity.appType==2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf ="cpBasic.applicationEntity.appType==3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="custom-datatable p-0" style="overflow-y:auto;" >

                                                    <div class="card p-4" style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;">
                                                            <label >Proposal Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Name of the Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Proposed Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.proposed}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Status</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                    <label>Active</label>
                                                                    </div>
                                                                    <ng-template #elseproposalDetailsFlag>
                                                                       <label>InActive</label>
                                                                    </ng-template>
                                                                </div>
                                                            </div>
                                                            <br> <br> <br>
                                                        </div>
                                                    </div>
                                                   
                                                </div>

                                            </div>
                                        </div>
                                        <button class="btn btn-primary pull-right" (click)="nextCpDetails();getAssignUnderwriter();" *ngIf="cp2Submit"  type="submit">Next</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="Assign Underwriter"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" *ngIf="cp2Submit" [active]="assignUnderwriterNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="tab-pane fade show " style="width:90%; important!">
                                            <div class="row">
                                                <div class="mt-2" >
                                                    <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': underWriterValidate}">
                                                        <div class="col-form-label pt-0 me-3">Assign To<span class="font-danger">*</span>
                                                            <select class="js-example-basic-single col-sm-12 job-select2 form-group" type="text" [(ngModel)]="assignTo" name = "assignTo" required="">
                                                                <option value="none" selected disabled hidden>Select an Option</option>
                                                                <option  *ngFor="let underWriter of UnderWriterList; let i = index" value="{{underWriter.email}}">{{underWriter.firstName}} {{underWriter.lastName}}</option>
                                                            </select>
                                                            <div class ="invalid-feedback">Please Select UnderWriter Member</div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <button class="btn btn-primary pull-right " type="submit" *ngIf="cp2Submit" [disabled] = "assignUwFlag1" (click)="getRemarks();nextAssignUnderwriter();">Next</button>
                                            <button class="btn btn-success pull-right me-1" type="submit"  *ngIf="cp2Submit && !assignUwFlag2" (click)="saveAssignUnderwriter();">Save</button>
                                            <button class="btn btn-success pull-right me-1" type="submit"  *ngIf="cp2Submit && assignUwFlag2"  (click)="updateAssignUnderwriter();">Update</button>
                                            <button class="btn btn-danger pull-right me-1" type="button" *ngIf="cp2Reject" (click)="assignUwSubmit(8,-2);">Reject</button>
                                            <button class="btn btn-outline-secondary pull-right me-1 " (click)="assignUwSubmit(8,-1);" type="button" *ngIf="cp2Return">Return</button>
                                            <button class="btn btn-secondary pull-right me-1" type="submit" (click)="previousAssignUnderwriter();">Previous</button>
                                        </div>
                                    </div>

                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="assignUnderwriterRemarks" *ngIf="cp2Submit">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(8,2,'CP_CPA_LEAD');" >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousAssignUnderwriterRemarks();getAssignUnderwriter();">Previous</button>
                                </div>
                            </ngx-tab>

                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Credit CPA'"  [awSelectedStep]="thirdWip" class="third">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-percent"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50" >
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="creditCpaCPDetailsNP">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4 " style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType==2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextCreditCpaCpDetails();">Next</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="Proposal Table" nav class="nav-pills nav-primary" [active]="proposaDetailsNp">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="custom-datatable p-0" style="overflow-y:auto;" >
                                             <div class="card p-4" style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Proposal Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Name of the Anchor</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Product</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{proposal.product}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Proposed Amount</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{proposal.proposed}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Status</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                <label>Active</label>
                                                            </div>
                                                            <ng-template #elseproposalDetailsFlag>
                                                                <label>InActive</label>
                                                            </ng-template>
                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>
                                          </div>
                                       </div>
                                </div>
                                <button class="btn btn-primary pull-right" type="submit" (click)="nextProposalDetails();getDocumentReports();">Next</button>
                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousProposalDetails();">Previous</button>

                            </ngx-tab>

                            <ngx-tab tabTitle="Document Checklist"  nav class="nav-pills nav-primary" [active]="docChecklistNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                <div *ngIf="docType.type == 2;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let documents of docReports;let j=index">
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 0;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 1;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="docType.type == 3;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let documents of docReports;let j=index">
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 0;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 1;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card-body default-accordion" style="padding: 12px; margin-top: 50px;">
                                                <h5>Uploaded Documents</h5>
                                                <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                                    <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                                        <ng-template ngbPanelTitle>
                                                            <div *ngIf="reportDetails.appType == 1;">
                                                                Initial Onboarded Documents
                                                            </div>
                                                            <div *ngIf="reportDetails.appType == 2;">
                                                                Renewal Documents {{reportDetails.wfType}}
                                                            </div>
                                                            <div *ngIf="reportDetails.appType == 3;">
                                                                Enhancement Documents {{reportDetails.wfType}}
                                                            </div>
                                                        </ng-template>
                                                        <ng-template ngbPanelContent>
                                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                                <div *ngIf="docType.type == 2;">
                                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                    <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                        <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                            <div>
                                                                                <label><b>{{documents.docList}}</b></label>
                                                                            </div>
                                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="col-sm-10 mb-2">
                                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                                </div>
                                                                                <div class="col-sm-2 mb-2">
                                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="docType.type == 3;">
                                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                    <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                        <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                            <div>
                                                                                <label><b>{{documents.docList}}</b></label>
                                                                            </div>
                                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                                <div class="col-sm-10 mb-2">
                                                                                    <label  class="custom-file"  required="">{{file.fileName}}</label>
                                                                                </div>
                                                                                <div class="col-sm-2 mb-2">
                                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-template>
                                                    </ngb-panel>
                                                </ngb-accordion>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary pull-right" type="submit" *ngIf="cp3Submit" (click)="nextDocChecklist();">Next</button>
                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousDocChecklist();">Previous</button>
                            </ngx-tab>

                            <ngx-tab tabTitle="Soft policy" nav class="nav-pills nav-primary" *ngIf="cp3Submit"  [active]="softPolicyNp">
                                <div class="col-sm-12">
                                    <div class="default-accordion" *ngFor="let SoftPolicyType of SoftPolicyMasterList;let i=index" >
                                        <h4 class="mt-5">{{SoftPolicyType.displayName}}</h4>
                                        <div *ngFor="let SoftPolicySubType of SoftPolicyType.softPolicyMasterSubTypeEntities;let j=index">
                                            <div *ngIf="SoftPolicySubType.dataType == 'Integer';">
                                                <div class="form-group ms-3 me-3" >
                                                    <label>{{SoftPolicySubType.displayName}}</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text" id="{{SoftPolicySubType.name}}" (change)="storeSoftPolicy(SoftPolicySubType.id,$event,SoftPolicySubType.dataType);" required="" minlength="1" maxlength="10">
                                                        <div class ="invalid-feedback">Please Enter {{SoftPolicySubType.displayName}}</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div *ngIf="SoftPolicySubType.dataType == 'floatAmount';">
                                                <div class="form-group ms-3 me-3" >
                                                    <label>{{SoftPolicySubType.displayName}}</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text" id="{{SoftPolicySubType.name}}" (change)="storeSoftPolicy(SoftPolicySubType.id,$event,SoftPolicySubType.dataType);" required="" minlength="1" maxlength="13" pattern= "^[0-9]{1,9}(\.[0-9]{0,2})?$" >
                                                        <div class ="invalid-feedback">Please Enter {{SoftPolicySubType.displayName}}</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div *ngIf="SoftPolicySubType.dataType == 'multiString';">
                                                <div class="form-group ms-3 me-3 " >
                                                    <label>{{SoftPolicySubType.displayName}}</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text" [disabled]="true" name="cpState" [(ngModel)]="cpState" id="{{SoftPolicySubType.name}}" >
                                                        <div class ="invalid-feedback">Please Enter {{SoftPolicySubType.displayName}}</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div *ngIf="SoftPolicySubType.dataType == 'dropString';">
                                                <div class="form-group ms-3 me-3" >
                                                    <label>{{SoftPolicySubType.displayName}}</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <select class="js-example-basic-single col-sm-12 job-select2 form-group" type="text" id="{{SoftPolicySubType.name}}" (change)="storeSoftPolicy(SoftPolicySubType.id,$event,SoftPolicySubType.dataType);" required="" >
                                                            <option value="none" selected disabled hidden>Select an Option</option>
                                                            <option value="Verified">Verified</option>
                                                            <option value="Not Verified">Not Verified</option>
                                                        </select>
                                                        <div class ="invalid-feedback">Please Enter {{SoftPolicySubType.displayName}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div *ngIf="!anchorType">
                                    <div *ngFor="let results of softPolicyResult; let i = index">
                                        <table class="table table-border-vertical">
                                            <thead>
                                            <tr>
                                                <th scope="col">Category</th>
                                                <th scope="col">Criteria</th>
                                                <th scope="col">Results</th>
                                                <th scope="col">Soft Policy Value</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let result of results; let k = index">
                                                <td>{{result.type}}</td>
                                                <td>{{result.subType}}</td>
                                                <td><div *ngIf="result.result; else elseResult">
                                                    <span class="badge badge-success">True</span>
                                                </div>
                                                    <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                                </td>
                                                <td>{{result.softPolicyValue}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <br>
                                    </div>
                                </div>
                                <div *ngIf="anchorType">
                                    <h3 *ngIf="anchorType">Dealer :</h3>
                                    <table class="table table-border-vertical">
                                        <thead>
                                        <tr>
                                            <th scope="col">Category</th>
                                            <th scope="col">Criteria</th>
                                            <th scope="col">Results</th>
                                            <th scope="col">Soft Policy Value</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let result of softPolicyDealerResult; let k = index">
                                            <td>{{result.type}}</td>
                                            <td>{{result.subType}}</td>
                                            <td><div *ngIf="result.result; else elseResult">
                                                <span class="badge badge-success">True</span>
                                            </div>
                                                <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                            </td>
                                            <td>{{result.softPolicyValue}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <br>
                                    <h3 class="mt-3" *ngIf="anchorType">Vendor :</h3>
                                    <table class="table table-border-vertical">
                                        <thead>
                                        <tr>
                                            <th scope="col">Category</th>
                                            <th scope="col">Criteria</th>
                                            <th scope="col">Results</th>
                                            <th scope="col">Soft Policy Value</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let result of softPolicyVendorResult; let k = index">
                                            <td>{{result.type}}</td>
                                            <td>{{result.subType}}</td>
                                            <td><div *ngIf="result.result; else elseResult">
                                                <span class="badge badge-success">True</span>
                                            </div>
                                                <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                            </td>
                                            <td>{{result.softPolicyValue}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <br>
                                </div>
                                <button class="btn btn-primary pull-right mt-3 me-2" type="submit" *ngIf="!updateSoftPolicyFlag" [disabled]="saveSoftPolicyFlag" (click)="getRemarks();softPolicyDetailsSubmit('save');" >Next</button>
                                <button class="btn btn-primary pull-right mt-3 me-2" type="submit" *ngIf="updateSoftPolicyFlag" [disabled]="saveSoftPolicyFlag" (click)="getRemarks();softPolicyDetailsSubmit('update');" >Next</button>
                                <button class="btn btn-success pull-right mt-3 ms-2 me-2" type="submit" (click)="validateSoftPolicy();">Run Soft Policy</button>
                                <button class="btn btn-secondary pull-right mt-3 me-2" type="button" (click)="previousSoftPolicy();">Previous</button>

                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="creditCpaRemarks">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="creditCpaSubmit();">Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCreditCpaRemarks();">Previous</button>
                                </div>
                            </ngx-tab>

                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Under Writer Override'"  [awSelectedStep]="fourthWip" class="four">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-pencil-square-o"></i>
                        </div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50 justifyLeft">
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="overridePolicyCPDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4 " style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Detail:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="custom-datatable p-0" style="overflow-y:auto;">
                                                    <div class="card p-4" style="visibility: hidden;">
                                                        <div class="fw-bold form-group" style="visibility: visible;" >
                                                            <label >Proposal Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Name of the Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Proposed Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.proposed}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Status</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                        <label>Active</label>
                                                                    </div>
                                                                    <ng-template #elseproposalDetailsFlag>
                                                                        <label>InActive</label>
                                                                    </ng-template>
                                                                </div>
                                                            </div>
                                                            <br> <br> <br>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextOverrideCPBasic();runSoftPolicy();">Next</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>
                            <ngx-tab tabTitle="Override Soft Policy"  nav class="nav-pills nav-primary justifyLeft"  [bypassDOM]="true" [active]="overridePolicy">
                                <ng-template>
                                    <div *ngIf="!anchorType">
                                        <div *ngFor="let results of softPolicyResult; let i = index">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Category</th>
                                                    <th scope="col">Criteria</th>
                                                    <th scope="col">Results</th>
                                                    <th scope="col">Soft Policy Value</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr *ngFor="let result of results; let k = index">
                                                    <td>{{result.type}}</td>
                                                    <td>{{result.subType}}</td>
                                                    <td><div *ngIf="result.result; else elseResult">
                                                        <span class="badge badge-success">True</span>
                                                    </div>
                                                        <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                                    </td>
                                                    <td>{{result.softPolicyValue}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                            <br>
                                        </div>
                                    </div>
                                    <div *ngIf="anchorType">
                                        <h3 *ngIf="anchorType">Dealer :</h3>
                                        <table class="table table-border-vertical">
                                            <thead>
                                            <tr>
                                                <th scope="col">Category</th>
                                                <th scope="col">Criteria</th>
                                                <th scope="col">Results</th>
                                                <th scope="col">Soft Policy Value</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let result of softPolicyDealerResult; let k = index">
                                                <td>{{result.type}}</td>
                                                <td>{{result.subType}}</td>
                                                <td><div *ngIf="result.result; else elseResult">
                                                    <span class="badge badge-success">True</span>
                                                </div>
                                                    <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                                </td>
                                                <td>{{result.softPolicyValue}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <br>
                                        <h3 class="mt-3" *ngIf="anchorType">Vendor :</h3>
                                        <table class="table table-border-vertical">
                                            <thead>
                                            <tr>
                                                <th scope="col">Category</th>
                                                <th scope="col">Criteria</th>
                                                <th scope="col">Results</th>
                                                <th scope="col">Soft Policy Value</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let result of softPolicyVendorResult; let k = index">
                                                <td>{{result.type}}</td>
                                                <td>{{result.subType}}</td>
                                                <td><div *ngIf="result.result; else elseResult">
                                                    <span class="badge badge-success">True</span>
                                                </div>
                                                    <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                                </td>
                                                <td>{{result.softPolicyValue}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <br>
                                    </div>

                                    <button class="btn btn-primary pull-right" type="submit"  *ngIf="cp4Submit" (click)="nextOverrideRemarks();getRemarks();">Next</button>
                                    <button class="btn btn-outline-secondary pull-right me-1 " (click)="popupWorkflow(11,-1,'CP_CPA_LEAD');" type="button" *ngIf="cp4Return">Return</button>
                                    <button class="btn btn-secondary pull-right me-2" type="submit" *ngIf="cp4Reject" (click)="popupWorkflow(11,-2,'CP_CREDIT_UNDERWRITER_LEAD');">Reject</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousOverrideCPBasic();">Previous</button>
                                </ng-template>
                            </ngx-tab>
                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="overrideSoftPolicyRemarks">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(11,2,'CP_CPA_LEAD');" *ngIf="cp4Submit" >Approve</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousOverrideRemarks();">Previous</button>
                                </div>
                            </ngx-tab>

                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'CAM Upload'"  [awSelectedStep]="fifthWip" class="five">
            <ng-template awWizardStepSymbol>
                <div class="f1-step">
                    <div class="f1-step-icon"><i class="fa fa-upload"></i></div>
                </div>
            </ng-template>
            <div class="card">
                <div class="card-header">
                </div>
                <div class="card-body">
                    <ngx-tabset type="pills" class="tabbed-card width-50">

                        <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="camCPDetailsNp">
                            <ng-template>
                                <div class="tab-pane fade show">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Counter Party Detail:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>PAN</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.panNumber}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Company Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.companyName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>GST Number</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.gstNumber}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>CIN Number</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.cinNumber}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Constitution</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.constitution}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>City/District</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.city}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>State</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.state}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Source</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.source}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Subsource</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.subSource}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>RM Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.rmName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Customer Contact Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.cusContName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Customer Contact Mobile</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.cusContactNumber}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Customer Contact Email</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{cpBasic.cusContactEmail}}</label>
                                                                </div>
                                                            </div>
                                                            <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Type</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>Renewal</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Type</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>Enhancement</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="custom-datatable p-0" style="overflow-y:auto;">
                                                <div class="card p-4" style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;" >
                                                        <label >Proposal Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Name of the Anchor</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Product</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.product}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Proposed Amount</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.proposed}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Anchor Status</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                    <label>Active</label>
                                                                </div>
                                                                <ng-template #elseproposalDetailsFlag>
                                                                    <label>InActive</label>
                                                                </ng-template>
                                                            </div>
                                                        </div>
                                                        <br> <br> <br>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right"  type="submit" (click)="nextCamCpDetails();runSoftPolicy();">Next</button>
                                </div>
                            </ng-template>
                        </ngx-tab>

                        <ngx-tab tabTitle="Override Soft Policy"  nav class="nav-pills nav-primary"  [bypassDOM]="true" [active]="camOverrideSoftPolicyNp">
                            <ng-template>
                                <div *ngIf="!anchorType">
                                    <div *ngFor="let results of softPolicyResult; let i = index">
                                        <table class="table table-border-vertical">
                                            <thead>
                                            <tr>
                                                <th scope="col">Category</th>
                                                <th scope="col">Criteria</th>
                                                <th scope="col">Results</th>
                                                <th scope="col">Soft Policy Value</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let result of results; let k = index">
                                                <td>{{result.type}}</td>
                                                <td>{{result.subType}}</td>
                                                <td><div *ngIf="result.result; else elseResult">
                                                    <span class="badge badge-success">True</span>
                                                </div>
                                                    <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                                </td>
                                                <td>{{result.softPolicyValue}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <br>
                                    </div>
                                </div>
                                <div *ngIf="anchorType">
                                    <h3 *ngIf="anchorType">Dealer :</h3>
                                    <table class="table table-border-vertical">
                                        <thead>
                                        <tr>
                                            <th scope="col">Category</th>
                                            <th scope="col">Criteria</th>
                                            <th scope="col">Results</th>
                                            <th scope="col">Soft Policy Value</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let result of softPolicyDealerResult; let k = index">
                                            <td>{{result.type}}</td>
                                            <td>{{result.subType}}</td>
                                            <td><div *ngIf="result.result; else elseResult">
                                                <span class="badge badge-success">True</span>
                                            </div>
                                                <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                            </td>
                                            <td>{{result.softPolicyValue}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <br>
                                    <h3 class="mt-3" *ngIf="anchorType">Vendor :</h3>
                                    <table class="table table-border-vertical">
                                        <thead>
                                        <tr>
                                            <th scope="col">Category</th>
                                            <th scope="col">Criteria</th>
                                            <th scope="col">Results</th>
                                            <th scope="col">Soft Policy Value</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let result of softPolicyVendorResult; let k = index">
                                            <td>{{result.type}}</td>
                                            <td>{{result.subType}}</td>
                                            <td><div *ngIf="result.result; else elseResult">
                                                <span class="badge badge-success">True</span>
                                            </div>
                                                <ng-template #elseResult><span class="badge badge-danger">False</span></ng-template>
                                            </td>
                                            <td>{{result.softPolicyValue}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <br>
                                </div>
                                <button class="btn btn-primary pull-right mt-3" type="submit" (click)="nextOverrideSoftPolicy();getDebtProfileById();" *ngIf="cp5Submit">Next</button>
                                <button class="btn btn-primary pull-right mt-3" type="submit" (click)="nextOverrideSoftPolicy();getDebtProfileById();" *ngIf="false">Next</button>
                                <button class="btn btn-outline-secondary pull-right mt-3 me-1" type="button" *ngIf="cp5Return" (click)="popupWorkflow(24,-1,'CP_CPA_LEAD');">Return</button>
                                <button class="btn btn-secondary pull-right mt-3 me-1" type="button" (click)="previousOverrideSoftPolicy();">Previous</button>
                            </ng-template>
                        </ngx-tab>

                        <ngx-tab tabTitle="Debt profile" class="nav nav-pills nav-primary" class="tabbed-card"  [active]="camDebtProfileNp">
                            <div class="tab-pane fade show" *ngIf="cp5Submit">
                                <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': debtProfileValidate}">
                                    <div class="tab-pane fade show " style="width:100%; important!">
                                        <div class="tab-pane fade show">
                                            <div class="fw-bold mt-2 ms-2 mb-2 me-2">
                                                <label>Debt Profile :</label>
                                                <i class="fa fa-plus-circle pull-right" style="font-size:25px; color:#6366ce;" (click)="addDebtProfileValue()"></i>
                                            </div>
                                            <div class="card" *ngFor="let debtProfileArr of debtProfileArray; let i = index" >
                                                <div class="tab-pane fade show me-2 mt-2" >
                                                    <i class="fa fa-trash-o pull-right" style="font-size:25px; color:#6366ce; cursor: pointer;" (click)="deleteDebtProfileValue(debtProfileArr.id,i)"></i>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >Bank/FI</label>
                                                    <input class="form-control a" title="{{debtProfileArr.bankFI}}"  type="text" name="bankFI{{i}}" [(ngModel)]="debtProfileArr.bankFI" (keypress)="allowAlphabetWithSpace($event)" required =""  pattern="^[a-zA-Z ]*$">
                                                    <div class ="invalid-feedback">Please Enter Valid Bank/FI </div>
                                                </div>
                                                <div class="col-form-label pt-0 ms-3 me-3">Facility Type:
                                                    <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group" type="text" name="facilityType{{i}}" [(ngModel)]="debtProfileArr.facilityType" required = "">
                                                        <option value="TERMLOAN">Term Loan</option>
                                                        <option value="BANKGUARANTEE">Bank Guarantee</option>
                                                        <option value="packingcredit">Packing Credit</option>
                                                        <option value="businessloan">Business Loan</option>
                                                        <option value="dealerfinance">Dealer Finance</option>
                                                        <option value="vendorfinance">Vendor Finance</option>
                                                        <option value="letterofcredit">Letter of Credit</option>
                                                        <option value="overdraft">Overdraft</option>
                                                        <option value="cashcredit">Cash Credit</option>
                                                        <option value="others">Others</option>
                                                    </select>
                                                    <div class ="invalid-feedback mt-1">Please Enter Valid Facility Type</div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >Tenure</label>
                                                    <div class="input-group">
                                                        <input class="form-control"  type="text"  name="tenure{{i}}" [(ngModel)]="debtProfileArr.tenure" onlyNumbers minlength="1" maxlength="4" required = "">
                                                        <div class="input-group-append"><span class="input-group-text">Months</span></div>
                                                        <div class ="invalid-feedback">Please Enter Valid Tenure</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >Date(Sanction)</label>
                                                    <input class="form-control"  type="date"  name="dateSanction{{i}}" [(ngModel)]="debtProfileArr.sanctionDate1" required = "">
                                                    <div class ="invalid-feedback">Please Enter Valid Date</div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >Limit Sanctioned:</label>
                                                    <input class="form-control"  type="text"  name="limitSanctioned{{i}}" [(ngModel)]="debtProfileArr.sanctionLimit" required = "" pattern="[+-]?([0-9]*[.])?[0-9]+" (keypress)="allowNumbersWithDot($event)">
                                                    <div class ="invalid-feedback">Please Enter Valid Limit Sanctioned</div>
                                                    <small>{{ debtProfileArr.sanctionLimit  | numberToWordsPipe }}</small>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >O/S as On:</label>
                                                    <input class="form-control"  type="text"  name="OSasOn{{i}}" [(ngModel)]="debtProfileArr.outstandingOnDate "  required = "" pattern="[+-]?([0-9]*[.])?[0-9]+" (keypress)="allowNumbersWithDot($event)">
                                                    <div class ="invalid-feedback">Please Enter Valid Limit O/S as On</div>
                                                    <small>{{ debtProfileArr.outstandingOnDate  | numberToWordsPipe }}</small>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >EMI:</label>
                                                    <input class="form-control"  type="text"  name="emi{{i}}" [(ngModel)]="debtProfileArr.emi"  required = "" pattern="[+-]?([0-9]*[.])?[0-9]+" (keypress)="allowNumbersWithDot($event)" >
                                                    <div class ="invalid-feedback">Please Enter Valid EMI</div>
                                                    <small>{{ debtProfileArr.emi  | numberToWordsPipe }}</small>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >Interest Rate:</label>
                                                    <div class="input-group">
                                                        <input class="form-control"   name="interest{{i}}" [(ngModel)]="debtProfileArr.interestRate" (keypress)="allowNumbersWithDot($event)" required = "" pattern="[+-]?([0-9]*[.])?[0-9]+">
                                                        <div class="input-group-append"><span class="input-group-text">%</span></div>
                                                        <div class ="invalid-feedback">Please Enter Valid Interest</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >Security:</label>
                                                    <input class="form-control"  type="text"  name="security{{i}}" [(ngModel)]="debtProfileArr.security"  required = "" pattern="^[a-zA-Z ]*$" (keypress)="allowAlphabetWithSpace($event)">
                                                    <div class ="invalid-feedback">Please Enter Valid Security</div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >General or Specific Limit Calculation:</label>
                                                    <input class="form-control"  type="text"  name="specificLimit{{i}}" [(ngModel)]="debtProfileArr.specificLimit" required = "" pattern="^[a-zA-Z0-9 ]*$" (keypress)="allowAlphabetNumbersWithSpace($event)"  >
                                                    <div class ="invalid-feedback">Please Enter Valid General or Specific Limit Calculation</div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label >Remarks:</label>
                                                    <input class="form-control"  type="text"  name="remarks{{i}}" [(ngModel)]="debtProfileArr.remarks" (keypress)="allowAlphabetNumbersWithSpace($event)" required = "">
                                                    <div class ="invalid-feedback">Please Enter Valid Remarks</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade show mb-2 me-2">
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextDebtProfile();">Next</button>
                                        <button class="btn btn-success pull-right me-1" type="submit" (click)="debtProfileSubmit('save')" *ngIf="!DebtProfile2" [disabled]="DebtProfile2">Save</button>
                                        <button class="btn btn-success pull-right me-1" type="submit" (click)="debtProfileSubmit('update')" *ngIf="DebtProfile2">Update</button>
                                        <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousDebtProfile();">Previous</button>

                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade show" *ngIf="false" >
                                <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index">
                                    <div class="fw-bold form-group" >
                                        <label >Debt Profile:</label>
                                        <hr>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Bank/FI</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.bankFI}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Facility Type</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.facilityType}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Tenure</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.tenure}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Date(Sanction)</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.sanctionDate}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Limit Sanctioned:</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.sanctionLimit}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>O/S as On</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.outstandingOnDate}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>EMI</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.emi}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Interest</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.interestRate}}</label>
                                                    <span  class="suffix-rp">%</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Security</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.security}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>General or Specific Limit Calculation</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.specificLimit}}</label>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Remarks</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{debtProfile.remarks}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary pull-right" type="submit" (click)="nextDebtProfile();">Next</button>
                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousDebtProfile();">Previous</button>
                            </div>
                        </ngx-tab>

                        <ngx-tab tabTitle="CAM Upload"  nav class="nav-pills nav-primary"  [bypassDOM]="true" [active]="CAMUploadNp">
                            <ng-template >
                                <div *ngIf="cp5Submit">
                                    <div class="col-sm-12">
                                        <div *ngFor="let docType of documentMaster;let k=index">
                                            <div *ngIf="docType.type == 4;">
                                                <h4 class="mt-2">{{docType.displayName}}</h4>
                                                <div *ngFor="let docCategory of docType.documentCategoryEntities;let j=index">
                                                    <div *ngFor="let docList of docCategory.documentListEntities;let k=index">
                                                        <div *ngIf="docList.mandatory == 1 && docList.status == 1;">
                                                            <div style="display:flex;">
                                                                <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                            </div>
                                                            <div class="custom-file" style="display:flex;">
                                                                <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}"  type="file"  [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                            </div>
                                                            <div *ngFor="let documents of docReports;let i=index">
                                                                <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                    <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                        <div class="input-group">
                                                                            <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                            <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                            <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                            <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="docList.mandatory == 0 && docList.status == 1;">
                                                            <div style="display:flex;">
                                                                <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                            </div>
                                                            <div class="custom-file" style="display:flex;">
                                                                <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                            </div>

                                                            <div *ngFor="let documents of docReports;let i=index">
                                                                <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                    <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                        <div class="input-group">
                                                                            <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                            <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                            <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                            <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="docList.mandatory == 2 && docList.status == 1;">
                                                            <div style="display:flex;">
                                                                <input type="checkbox" (change)="docCheckbox($event,docType.id,docCategory.id,docList.id);">
                                                                <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                            </div>
                                                            <div class="custom-file" style="display:flex;">
                                                                <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                            </div>
                                                            <div *ngFor="let documents of docReports;let i=index">
                                                                <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id && documents.appId == newAppId;">
                                                                    <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                        <div class="input-group">
                                                                            <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                            <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                            <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docType.name,docList.name,file.fileName);"></i></span></div>
                                                                            <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,1,file.fileName);"></i></span></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card-body default-accordion" style="padding: 12px; margin-top: 50px;">
                                        <h5>Uploaded Documents</h5>
                                        <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                            <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                                <ng-template ngbPanelTitle>
                                                    <div *ngIf="reportDetails.appType == 1;">
                                                        Initial Onboarded Documents
                                                    </div>
                                                    <div *ngIf="reportDetails.appType == 2;">
                                                        Renewal Documents {{reportDetails.wfType}}
                                                    </div>
                                                    <div *ngIf="reportDetails.appType == 3;">
                                                        Enhancement Documents {{reportDetails.wfType}}
                                                    </div>
                                                </ng-template>
                                                <ng-template ngbPanelContent>
                                                    <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                        <div *ngIf="docType.type == 4;">
                                                            <h4 class="mt-2">{{docType.displayName}}</h4>
                                                            <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                    <div>
                                                                        <label><b>{{documents.docList}}</b></label>
                                                                    </div>
                                                                    <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                        <div class="col-sm-10 mb-2">
                                                                            <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                        </div>
                                                                        <div class="col-sm-2 mb-2">
                                                                            <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                <i class="mt-1 fa fa-cloud-download"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-panel>
                                        </ngb-accordion>
                                    </div>
                                    <button class="btn btn-primary pull-right mt-3" type="submit" [disabled]="docValidationCheck" (click)="documentValidation(4,'save');"*ngIf="cp5Submit">Next</button>
                                    <button class="btn btn-secondary pull-right mt-3 me-1" type="button" (click)="previousCamUpload();">Previous</button>
                                </div>
                                <div *ngIf="false">
                                    <div class="container-fluid">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                    <div *ngIf="docType.type == 4;">
                                                        <h4 class="mt-2">{{docType.displayName}}</h4>
                                                        <div *ngFor="let documents of docReports;let j=index">
                                                            <div  style="padding:2%;" *ngIf="documents.docType==docType.displayName;">
                                                                <div>
                                                                    <label><b>{{documents.docList}}</b></label>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-sm-10">
                                                                        <label  class="custom-file" required="">{{documents.fileName}}</label>
                                                                    </div>
                                                                    <div class="col-sm-2">
                                                                        <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,documents.fileName);">
                                                                            <i class="mt-1 fa fa-cloud-download"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <hr style="width:100%; margin-left:0; color:red;" class="pe-3">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCamUpload();">Previous</button>
                                </div>
                            </ng-template>
                        </ngx-tab>

                        <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="CAMRemarks">
                            <div class="tab-pane fade show " style="width:100%; important!">
                                <div class="card">
                                    <div class="fw-bold form-group mt-2 ms-2" >
                                        <label >Remarks</label>
                                        <hr>
                                    </div>
                                    <div class="table-responsive" style="visibility: visible;">
                                        <table class="table table-border-vertical">
                                            <thead>
                                            <tr>
                                                <th scope="col">Stage</th>
                                                <th scope="col">Status</th>
                                                <th scope="col">Remarks</th>
                                            </tr>
                                            </thead>
                                            <tbody *ngFor="let remarks of remarkArray;let i=index">
                                            <tr>
                                                <td scope="row" >
                                                    <div *ngIf="remarks.stage.stageId =='CP1'">
                                                        <label>Business</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP2'">
                                                        <label>Assign Underwriter</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP3'">
                                                        <label>Credit CPA</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP4'">
                                                        <label>Under Writer Override</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP5'">
                                                        <label>CAM upload</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP6'">
                                                        <label>Under Writer Review</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP7'">
                                                        <label>Under Writer Pd Review</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP8'">
                                                        <label>Commercial/Credit</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP9'">
                                                        <label>Rm Customer Acceptance</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP10'">
                                                        <label>Operation Maker</label>
                                                    </div>
                                                    <div *ngIf="remarks.stage.stageId =='CP11'">
                                                        <label>Operation Checker</label>
                                                    </div>
                                                </td>
                                                <td scope="row" >
                                                    <div *ngIf="remarks.status =='2'">
                                                        <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                    </div>
                                                    <div *ngIf="remarks.status =='-1'">
                                                        <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                    </div>
                                                    <div *ngIf="remarks.status =='0'">
                                                        <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                    </div>
                                                </td>

                                                <td scope="row" >
                                                    {{remarks.remarks}}
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="camUploadSubmit();">Submit</button>
                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCamRemarks();">Previous</button>
                            </div>
                        </ngx-tab>



                    </ngx-tabset>
                </div>
            </div>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Under Writer Review'"  [awSelectedStep]="sixWip" class="six">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-calendar-check-o"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50">
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="uwrCPDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4" style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="custom-datatable p-0" style="overflow-y:auto;">
                                                    <div class="card p-4" style="visibility: hidden;"
                                                    >
                                                        <div class="fw-bold form-group" style="visibility: visible;" >
                                                            <label >Proposal Details:</label>
                                                            <hr>
                                                        </div>
                                                        <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Name of the Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Proposed Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{proposal.proposed}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Status</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                        <label>Active</label>
                                                                    </div>
                                                                    <ng-template #elseproposalDetailsFlag>
                                                                        <label>InActive</label>
                                                                    </ng-template>
                                                                </div>
                                                            </div>
                                                            <br> <br> <br>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index" style="visibility: hidden;"
                                    >
                                        <div class="fw-bold form-group" style="visibility: visible;" >
                                            <label >Debt Profile:</label>
                                            <hr>
                                        </div>
                                        <div class="row" style="visibility: visible;">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Bank/FI</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.bankFI}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Facility Type</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.facilityType}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Tenure</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.tenure}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Date(Sanction)</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.sanctionDate}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Limit Sanctioned:</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.sanctionLimit}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>O/S as On</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.outstandingOnDate}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>EMI</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.emi}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Interest</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.interestRate}}</label>
                                                        <span  class="suffix-rp">%</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Security</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.security}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>General or Specific Limit Calculation</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.specificLimit}}</label>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Remarks</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.remarks}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right"  type="submit" (click)="nextUWRCpDetails();getProgramNormsByProduct();">Next</button>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="View CAM"  nav class="nav-pills nav-primary" [active]="uwrViewCamNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                <div *ngIf="docType.type == 4;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let documents of docReports;let j=index">
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 0;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 1;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="card-body default-accordion" style="padding: 12px; margin-top: 20px;">
                                            <h5>Uploaded Documents</h5>
                                            <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                                <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                                    <ng-template ngbPanelTitle>
                                                        <div *ngIf="reportDetails.appType == 1;">
                                                            Initial Onboarded Documents
                                                        </div>
                                                        <div *ngIf="reportDetails.appType == 2;">
                                                            Renewal Documents {{reportDetails.wfType}}
                                                        </div>
                                                        <div *ngIf="reportDetails.appType == 3;">
                                                            Enhancement Documents {{reportDetails.wfType}}
                                                        </div>
                                                    </ng-template>
                                                    <ng-template ngbPanelContent>
                                                        <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                            <div *ngIf="docType.type == 4;">
                                                                <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                    <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                        <div>
                                                                            <label><b>{{documents.docList}}</b></label>
                                                                        </div>
                                                                        <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="col-sm-10 mb-2">
                                                                                <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                            </div>
                                                                            <div class="col-sm-2 mb-2">
                                                                                <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                    <i class="mt-1 fa fa-cloud-download"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </ngb-panel>
                                            </ngb-accordion>
                                        </div>
                                        <div class="form-group mt-2">
                                            <div class="tab-pane fade show mt-3">
                                                <button class="btn btn-primary pull-right" type="submit" (click)="nextUWRViewCam();" *ngIf="cp6Submit">Next</button>
                                                <button class="btn btn-primary pull-right" type="submit" (click)="nextUWRViewCam();" *ngIf="false">Next</button>
                                                <button class="btn btn-outline-secondary pull-right me-1" type="button" *ngIf="cp6Return" (click)="popupWorkflow(22,-1,'CP_CPA_LEAD');">Return</button>
                                                <button class="btn badge-danger pull-right me-1" type="button" *ngIf="cp6Reject" (click)="popupWorkflow(22,-2,'CP_CREDIT_UNDERWRITER_LEAD');">Reject</button>
                                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUWRViewCam();">Previous</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle="Limit Eligibility" nav class="nav-pills nav-primary" [active]="uwrLimitEligibilityNp">
                                <div class="container-fluid">
                                    <div *ngIf="cp6Submit">
                                        <div class="card mt-2" style="visibility: hidden;" >
                                            <div class="fw-bold form-group ms-2 mt-2" style="visibility: visible;" >
                                                <label >Fund Request Details:</label>
                                                <hr>
                                            </div>
                                            <div class="mt-2 ms-2 me-2 tab-pane fade show" *ngFor="let questions of fundQuestion;let i=index" style="visibility: visible;">
                                                <div *ngIf="questions.status == '1';">
                                                    <label>{{questions.displayName}}<span class="font-danger">*</span></label>

                                                    <input class="form-control me-2" type="text" required="" id="{{questions.id}}" (change)="storeAnswer($event,questions.id);">
                                                </div>
                                            </div>
                                            <div style="visibility: visible;">
                                                <button class="btn btn-success pull-right mt-2 me-2 mb-1" type="button" *ngIf="!saveFundReqFlag" [disabled]="fundRequirementControl" (click)="fundRequirementSubmit('save');">Save</button>
                                                <button class="btn btn-success pull-right mt-2 me-2 mb-1" type="button" *ngIf="saveFundReqFlag" [disabled]="fundRequirementControl" (click)="fundRequirementSubmit('update');">update</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" style="width:100%; important!">
                                            <div class="tab-pane fade show">
                                                <div class="fw-bold ms-3 mb-4">
                                                    <label>Limit Eligibility</label>
                                                </div>

                                                <div class="card" *ngFor="let limitArr of limitEligibilityArray; let i = index" style="visibility: hidden;">

                                                    <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': limitValidate}" style="visibility: visible;">
                                                        <div class="fw-bold mb-4 ms-3">
                                                            <label>{{limitArr.anchorName}}</label>
                                                            <hr>
                                                        </div>
                                                        <div class="form-group ms-3 me-3" >
                                                            <label>Anchor Name</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <input class="form-control" type="text" id="{{limitArr.anchorName}}"   value={{limitArr.anchorName}}  required="" maxlength="12" minlength="1" readonly >
                                                                <div class ="invalid-feedback">Please Enter Anchor Name</div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Product</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <input class="form-control" type="text" id="{{limitArr.product}}" [(ngModel)]="limitArr.product" value={{limitArr.product}} required="" maxlength="12" minlength="1" readonly>
                                                                <div class ="invalid-feedback">Please Enter Product</div>
                                                            </div>
                                                        </div>

                                                        <div class="form-group ms-3 me-3">
                                                            <label>Regular Limit: Existing</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="currentLimit{{i}}" [(ngModel)]="limitArr.currentLimit" required=""  (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Regular Limit(Current If any)</div>
                                                            </div>
                                                            <small>{{ limitArr.currentLimit | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Proposed Regular Limit</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="proposedLimit{{i}}" [(ngModel)]="limitArr.proposedLimit" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Regular Limit(Proposed)</div>
                                                            </div>
                                                            <small>{{ limitArr.proposedLimit | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Eligible Limit</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="eligibleLimit{{i}}" [(ngModel)]="limitArr.eligibleLimit" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Eligible Limit</div>
                                                            </div>
                                                            <small>{{ limitArr.eligibleLimit | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Proposed Adhoc Limit</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="adhocLimit{{i}}" [(ngModel)]="limitArr.adhocLimit" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Ad-hoc Limit</div>
                                                            </div>
                                                            <small>{{ limitArr.adhocLimit | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Credit Period</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <input class="form-control" type="text" name="creditPeriod{{i}}" [(ngModel)]="limitArr.creditPeriod" value={{limitArr.creditPeriod}} required="" maxlength="4" minlength="1" readonly >
                                                                <div class="input-group-append"><span class="input-group-text">Days</span></div>
                                                                <div class ="invalid-feedback">Please Enter Credit Period</div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group ms-3 me-3" *ngIf="!(limitArr.product == 'Vendor Purchase Order Finance' || limitArr.product == 'Dealer Purchase Order Finance')" >
                                                            <label>Door-To-Door</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <input class="form-control" type="text" name="doorToDoor{{i}}" [(ngModel)]="limitArr.doortoDoor" required="" maxlength="4" minlength="1" onlyNumbers>
                                                                <div class="input-group-append"><span class="input-group-text">Days</span></div>
                                                                <div class ="invalid-feedback">Please Enter Door-To-Door</div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group ms-3 me-3" *ngIf="!(limitArr.product == 'Vendor Purchase Order Finance' || limitArr.product == 'Dealer Purchase Order Finance')" >
                                                            <label>Invoice Ageing</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <input class="form-control" type="text" name="invoiceAgeing{{i}}" [(ngModel)]="limitArr.invoiceAgeing" required="" maxlength="4" minlength="1" onlyNumbers>
                                                                <div class="input-group-append"><span class="input-group-text">Days</span></div>
                                                                <div class ="invalid-feedback">Please Enter Invoice Ageing</div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Expected Growthrate in Anchor Turnover</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <input class="form-control" type="text" name="expectedGrowthInTo{{i}}" [(ngModel)]="limitArr.expectedGrowth" required="" maxlength="5" minlength="1" pattern="^-?\d{1,3}(\.\d+)?$">
                                                                <div class="input-group-prepend"><span class="input-group-text">%</span></div>
                                                                <div class ="invalid-feedback">Please Enter Expected Growth</div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Past monthly turnover with anchor</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="monthlyAverageToWithAnchor{{i}}" [(ngModel)]="limitArr.monthlyAverage" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Monthly Average To With Anchor</div>
                                                            </div>
                                                            <small>{{ limitArr.monthlyAverage | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Apportioned Existing WC Limits</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="approtionedExisitingWCLimits{{i}}" [(ngModel)]="limitArr.approtionedLimits" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Apportioned Existing WC Limit</div>
                                                            </div>
                                                            <small>{{ limitArr.approtionedLimits | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Existing SCF Limit From Others Banks/FIs</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="exisitingSCFLimitFromOthers{{i}}" [(ngModel)]="limitArr.existingScfLimits" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Existing SCF Limit From Others</div>
                                                            </div>
                                                            <small>{{ limitArr.existingScfLimits | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Model Regular Limit</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="modelLimit{{i}}" [(ngModel)]="limitArr.modelLimit" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Model Limit</div>
                                                            </div>
                                                            <small>{{ limitArr.modelLimit | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Login Limit Amount</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" id="loginLimitAmount{{i}}" value="{{limitArr.loginLimitAmount}}" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?" readonly>
                                                                <div class ="invalid-feedback">Please Enter Customer Requested Amount</div>
                                                            </div>
                                                            <small>{{ limitArr.customerRequestedAmount | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Anchor Recommended Amount</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="anchorRecomendedAmount{{i}}" [(ngModel)]="limitArr.anchorRecommendedAmount" required="" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Anchor Recommended Amount</div>
                                                            </div>
                                                            <small>{{ limitArr.anchorRecommendedAmount | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3" *ngIf="limitArr.product == 'Dealer Invoice Finance' || limitArr.product == 'Dealer Purchase Order Finance'">
                                                            <label>Receivables</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="receivables{{i}}" [(ngModel)]="limitArr.receivables" (keypress)="allowNumbersWithDot($event)" required="" maxlength="13" minlength="1"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Receivables</div>
                                                            </div>
                                                            <small>{{ limitArr.receivables | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3" *ngIf="limitArr.product == 'Dealer Invoice Finance' || limitArr.product == 'Dealer Purchase Order Finance'">
                                                            <label>Inventory</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="inventory{{i}}" [(ngModel)]="limitArr.inventory" required="" maxlength="13" minlength="1" (keypress)="allowNumbersWithDot($event)"  pattern="[0-9]{1,10}(\.[0-9]{1,2})?" >
                                                                <div class ="invalid-feedback">Please Enter Inventory</div>
                                                            </div>
                                                            <small>{{ limitArr.inventory | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3" *ngIf="limitArr.product == 'Dealer Invoice Finance' || limitArr.product == 'Dealer Purchase Order Finance'">
                                                            <label>Creditors</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="creditor{{i}}" [(ngModel)]="limitArr.creditor" required="" maxlength="13" minlength="1"  (keypress)="allowNumbersWithDot($event)" pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Creditors</div>
                                                            </div>
                                                            <small>{{ limitArr.creditors | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Expected monthly turnover with anchor</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="expectedMonthlyTurnOverWithAnchor{{i}}" [(ngModel)]="limitArr.expectedMonthlyTurnOverWithAnchor" required="" maxlength="13" minlength="1"  (keypress)="allowNumbersWithDot($event)" pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Expected monthly turnover with anchor</div>
                                                            </div>
                                                            <small>{{ limitArr.expectedMonthlyToWithAnchor | numberToWordsPipe }}</small>
                                                        </div>
                                                        <div class="form-group ms-3 me-3">
                                                            <label>Model Adhoc Limit</label><span class="font-danger">*</span>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                                <input class="form-control" type="text" name="modelAdhocLimit{{i}}" [(ngModel)]="limitArr.modelAdhocLimit" required="" maxlength="13" minlength="1"  (keypress)="allowNumbersWithDot($event)" pattern="[0-9]{1,10}(\.[0-9]{1,2})?">
                                                                <div class ="invalid-feedback">Please Enter Model Adhoc Limit</div>
                                                            </div>
                                                            <small>{{ limitArr.modelAdhocLimit | numberToWordsPipe }}</small>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>

                                        <button class="btn btn-primary pull-right" type="submit" [disabled]="cpLimitEligibility1" *ngIf="!cpLimitEligibility2" (click)="nextUWRLimitEligibility();">Next</button>
                                        <button class="btn btn-success pull-right me-1" type="submit" (click)="limitEligibilitySubmit('save');" *ngIf="cp6Submit && !cpLimitEligibility2">Save</button>
                                        <button class="btn btn-primary pull-right me-1" type="submit" (click)="nextUWRLimitEligibility();" *ngIf="cpLimitEligibility2">Next</button>
                                        <button class="btn btn-success pull-right me-1" type="submit" (click)="limitEligibilitySubmit('update')" *ngIf="cpLimitEligibility2">Update</button>
                                        <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUWRLimitEligibility();">Previous</button>
                                    </div>
                                    <div *ngIf="false">
                                        <div class="card p-4 ">
                                            <div class="fw-bold form-group" >
                                                <label >Limit Eligibility:</label>
                                                <hr>
                                            </div>
                                            <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index">
                                                <div class="row" >
                                                    <div class="col-md-12">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Anchor Name</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Product</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.product}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Regular Limit(Current If any)</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.currentLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Regular Limit(Proposed)</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.proposedLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Eligible Limit</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.eligibleLimit}}</label>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Ad-hoc Limit(possible)</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.adhocLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Credit Period</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.creditPeriod}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Door-To-Door</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.doorToDoor}}</label>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Invoice Ageing</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.invoiceAgeing}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Expected Growth in To</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.expectedGrowth}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Monthly Average To With Anchor</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.monthlyAverage}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Approtioned Exisiting WC Limits</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.approtionedLimits}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Exisiting SCF Limit From Others</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.existingScfLimits}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Model Limit</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.modelLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Customer Requested Amount</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Anchor Recommended Amount</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Receivables</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.receivables}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Inventory</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.inventory}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Creditors</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.creditor}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Expected monthly turnover with anchor</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Model Adhoc Limit</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br> <br> <br>
                                            </div>
                                        </div>

                                        <button class="btn btn-primary pull-right" type="submit" (click)="nextUWRLimitEligibility();getMultipleLimitEligibility();">Next</button>
                                        <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUWRLimitEligibility();">Previous</button>
                                    </div>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle="Term sheet" nav class="nav-pills nav-primary" [active]="uwrTermSheetNp">
                                <div class="card" *ngIf="cp6Submit" style="visibility: hidden;">
                                    <div class="tab-pane fade show mt-4 ms-4 mb-2" style="visibility: visible;">
                                        <div class="fw-bold mt-2 ms-3 mb-2 ">
                                            <label>Term sheet :</label>
                                        </div>
                                        <div class="card" *ngFor="let termSheetArr of termSheetArray; let i = index" style="visibility: hidden;">
                                            <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': termSheetValidate}" style="visibility: visible;" >
                                                <div class="fw-bold mb-4 ms-3">
                                                    <label>{{termSheetArr.anchorName}}</label>
                                                    <hr>
                                                </div>
                                                <div class="form-group ms-3 me-3" >
                                                    <label>Anchor Name</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  [(ngModel)]="termSheetArr.custId"  value={{termSheetArr.anchorName}}  required="" maxlength="12" minlength="1" readonly >
                                                        <div class ="invalid-feedback">Please Enter Anchor Name</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Product</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  [(ngModel)]="termSheetArr.product" value={{termSheetArr.product}} required="" maxlength="12" minlength="1" readonly>
                                                        <div class ="invalid-feedback">Please Enter Product</div>
                                                    </div>
                                                </div>

                                                <div class="form-group ms-3 me-3">
                                                    <label>Ad-hoc Limit</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                        <input class="form-control" type="text"  name="termSheetAdhocLimit{{i}}" [(ngModel)]="termSheetArr.adhocLimit" value={{termSheetArr.adhocLimit}} required="" maxlength="12" minlength="1" >
                                                        <div class ="invalid-feedback">Please Enter Ad-hoc Limit</div>
                                                    </div>
                                                    <small>{{ termSheetArr.adhocLimit | numberToWordsPipe }}</small>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Credit Period</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="termSheetCreditPeriod{{i}}" [(ngModel)]="termSheetArr.creditPeriod" value={{termSheetArr.creditPeriod}} required="" maxlength="4" minlength="1" onlyNumbers>
                                                        <div class="input-group-append"><span class="input-group-text">Days</span></div>
                                                        <div class ="invalid-feedback">Please Enter Credit Period</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3" *ngIf="!(termSheetArr.product == 'Vendor Purchase Order Finance' || termSheetArr.product == 'Dealer Purchase Order Finance')">
                                                    <label>Door-to-Door</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="termSheetDoorToDoor{{i}}" [(ngModel)]="termSheetArr.doorToDoor" value={{termSheetArr.doorToDoor}} required=""  minlength="1" maxlength="4" >
                                                        <div class="input-group-append"><span class="input-group-text">Days</span></div>
                                                        <div class ="invalid-feedback">Please Enter Door-to-Door</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3" *ngIf="!(termSheetArr.product == 'Vendor Purchase Order Finance' || termSheetArr.product == 'Dealer Purchase Order Finance')">
                                                    <label>Invoice Ageing</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control"type="text"  name="termSheetInvoice{{i}}" [(ngModel)]="termSheetArr.invoiceAgeing" value={{termSheetArr.invoiceAgeing}} required="" maxlength="10" minlength="1" >
                                                        <div class="input-group-append"><span class="input-group-text">Days</span></div>
                                                        <div class ="invalid-feedback">Please Enter Invoice Ageing</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Application Of Interest</label><span class="font-danger">*</span>
                                                    <div class="custom-file">
                                                        <input class="form-control" type="text"  name="termSheetAppOfInterest{{i}}" [(ngModel)]="termSheetArr.applyOfInterest" value={{termSheetArr.applicationInterest}} required=""  minlength="1" maxlength="30" onlyAlphabets readonly>
                                                    </div>
                                                    <div class ="invalid-feedback">Please Enter Application Of Interest</div>
                                                </div>


                                                <div class="form-group ms-3 me-3">
                                                    <label>Interest Borne By</label><span class="font-danger">*</span>
                                                    <div class="custom-file">
                                                        <input class="form-control" type="text"  name="termSheetArrInterestBorneBy{{i}}" [(ngModel)]="termSheetArr.interestBorneBy" value={{termSheetArr.interestBorneBy}} required=""  minlength="1" maxlength="30" onlyAlphabets readonly>
                                                    </div>
                                                    <div class ="invalid-feedback">Please Enter Interest Borne By</div>
                                                </div>

                                                <div class="form-group ms-3 me-3">
                                                    <label>Penalty Borne By</label><span class="font-danger">*</span>
                                                    <div class="custom-file">
                                                        <input class="form-control" type="text"  name="termSheetArrPenaltyBorneBy{{i}}"  [(ngModel)]="termSheetArr.penaltyBorneBy" value={{termSheetArr.interestBorneBy}} required=""  minlength="1" maxlength="30" onlyAlphabets readonly>
                                                    </div>

                                                    <div class ="invalid-feedback">Please Enter Penalty Borne By</div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Interest Rate</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control"type="text"  name="termSheetInterest{{i}}" [(ngModel)]="termSheetArr.interestRate" (keypress)="allowNumbersWithDot($event)" required="" maxlength="5" minlength="1" pattern="^[0-9]{0,2}(\.[0-9]{0,2})?$" >
                                                        <div class="input-group-append"><span class="input-group-text">%</span></div>
                                                        <div class ="invalid-feedback">Please Enter Interest Rate</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Processing Fee</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="termSheetPf{{i}}" [(ngModel)]="termSheetArr.pf" (keypress)="allowNumbersWithDot($event)" required="" maxlength="4" minlength="1" pattern="^[0-9]{0,2}(\.[0-9]{0,2})?$">
                                                        <div class="input-group-append"><span class="input-group-text">%</span></div>
                                                        <div class ="invalid-feedback">Please Enter PF</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Renewal Fees</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="termSheetRenewal{{i}}" [(ngModel)]="termSheetArr.renewal" required="" maxlength="4" minlength="1" pattern="^[0-9]{0,2}(\.[0-9]{0,2})?$">
                                                        <div class="input-group-append"><span class="input-group-text">%</span></div>
                                                        <div class ="invalid-feedback">Please Enter Renewal</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Interest Rate Type</label><span class="font-danger">*</span>
                                                    <select class="form-control js-example-basic-single col-sm-12 job-select2 form-group"  type="text"  name="termSheetInterestRateType{{i}}" [(ngModel)]="termSheetArr.interestRateType" required="" >
                                                        <option value="Fixed">Fixed</option>
                                                        <option value="Floating">Floating</option>
                                                        <div class ="invalid-feedback">Please Enter Interest Rate Type</div>
                                                    </select>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Renewal Period</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="termSheetRenewalPeriod{{i}}" [(ngModel)]="termSheetArr.renewalPeriod" required="" minlength="1" maxlength="3"  onlyNumbers>
                                                        <div class="input-group-append"><span class="input-group-text">Months</span></div>
                                                        <div class ="invalid-feedback">Please Enter Renewal Period</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Invoice Funding</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="termSheetArrInvoiceFunding{{i}}" [(ngModel)]="termSheetArr.invoiceFunding" (keypress)="allowNumbersWithDot($event)" required="" maxlength="5" minlength="1" pattern="^\d{1,3}(\.\d+)?$" >
                                                        <div class="input-group-append"><span class="input-group-text">%</span></div>
                                                        <div class ="invalid-feedback">Please Enter Invoice Funding</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Grace Days</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="GraceDaystermSheetArr{{i}}" [(ngModel)]="termSheetArr.graceDays" required="" minlength="1" maxlength="4" (keypress)="allowNumbers($event)" pattern="^[0-9]{1,4}$" >
                                                        <div class="input-group-append"><span class="input-group-text">Days</span></div>
                                                        <div class ="invalid-feedback">Please Enter Valid Grace Days</div>
                                                    </div>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Regular Limit</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                        <input class="form-control" type="text"  name="termSheetRegularLimit{{i}}" [(ngModel)]="termSheetArr.regularLimit" required="" maxlength="13" minlength="1" (keypress)="allowNumbersWithDot($event)" pattern="[0-9]{1,10}(\.[0-9]{1,2})?" >
                                                        <div class ="invalid-feedback">Please Enter Regular Limit</div>
                                                    </div>
                                                    <small>{{ termSheetArr.regularLimit | numberToWordsPipe }}</small>
                                                </div>
                                                <div class="form-group ms-3 me-3">
                                                    <label>Margin</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control"type="text"  name="termSheetMargin{{i}}" [(ngModel)]="termSheetArr.margin" (keypress)="allowNumbersWithDot($event)" required="" maxlength="5" minlength="1" pattern="^\d{1,3}(\.\d+)?$" >
                                                        <div class="input-group-append"><span class="input-group-text">%</span></div>
                                                        <div class ="invalid-feedback">Please Enter Margin</div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <button class="btn btn-primary pull-right" type="submit" *ngIf="!cpTermSheet2" [disabled]="cpTermSheet1" (click)="nextUWRTermSheet();getCollateralDetails(newAppId);">Next</button>
                                        <button class="btn btn-success pull-right me-1" type="submit" (click)="termSheetSubmit('save')" *ngIf="cp6Submit && !cpTermSheet2" [disabled]="cpTermSheet2">Save</button>
                                        <button class="btn btn-primary pull-right" type="submit" *ngIf="cpTermSheet2" (click)="nextUWRTermSheet();getCollateralDetails(newAppId);">Next</button>
                                        <button class="btn btn-success pull-right me-1" type="submit" (click)="termSheetSubmit('update')" *ngIf="cpTermSheet2">Update</button>
                                        <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUWRTermSheet();">Previous</button>
                                    </div>
                                </div>
                                <div *ngIf="false">
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >TermSheet Details:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let termSheet of termSheetList; let i = index">
                                            <div class="row" >
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Product</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.product}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Regular Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.regularLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Ad-hoc Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.adhocLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Credit Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.creditPeriod}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Door-to-Door</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.doorToDoor}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Ageing</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.invoiceAgeing}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Margin</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.margin}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Rate</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestRate}}</label>
                                                            <span  class="suffix-rp">%</span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Processing Fee</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.pf}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Renewal Fees</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.renewal}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Rate Type</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestRateType}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Renewal Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.renewalPeriod}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Application Of Interest</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.applyOfInterest}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Borne By</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestBorneBy}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Penalty Borne By</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.penaltyBorneBy}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Funding</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.invoiceFunding}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Grace Days</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.graceDays}}</label>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <br> <br> <br>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right" type="submit" (click)="nextUWRTermSheet();getCollateralDetails();">Next</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUWRTermSheet();">Previous</button>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle="Collateral" class="nav-pills nav-primary" [active]="uwrCollateralNp">
                                <div *ngIf="cp6Submit">
                                    <div *ngFor="let collateral of collateralMaster;let i=index">
                                        <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': collateralValidate}">
                                            <div *ngIf="collateral.status == '1';">
                                                <div *ngIf="collateral.datatype == 'TimeStamp';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{collateral.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="date" id="{{collateral.name}}" (change)="storeCollateral(collateral.id,$event);" value="" required="" >
                                                            <div class ="invalid-feedback">Please Enter {{collateral.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="collateral.datatype == 'String';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{collateral.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="text" id="{{collateral.name}}" (change)="storeCollateral(collateral.id,$event);" value="" required="" minlength="1" maxlength="250">
                                                            <div class ="invalid-feedback">Please Enter {{collateral.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="collateral.datatype == 'Integer';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{collateral.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="text" id="{{collateral.name}}" (change)="storeCollateral(collateral.id,$event);" value="" required="" maxlength="10" minlength="1" onlyNumbers>
                                                            <div class ="invalid-feedback">Please Enter {{collateral.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="collateral.datatype == 'IntMonth';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{collateral.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="text" id="{{collateral.name}}" (change)="storeCollateral(collateral.id,$event);" value="" required="" maxlength="4" minlength="1" onlyNumbers pattern="^[0-9]{1,4}$">
                                                            <div class ="invalid-feedback">Please Enter {{collateral.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="collateral.datatype == 'Long';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{collateral.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="text" id="{{collateral.name}}" (change)="storeCollateral(collateral.id,$event);" value="" required="" maxlength="10" minlength="1" onlyNumbers>
                                                            <div class ="invalid-feedback">Please Enter {{collateral.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <button class="btn btn-primary pull-right" type="submit" [disabled]="cpCollateral1" (click)="nextUWRCollateral();getUpdateCreditPolicyDetails();">Next</button>
                                    <button class="btn btn-success pull-right me-1" type="submit" (click)="collateralSubmit('save');" *ngIf="cp6Submit && !cpCollateral2">Save</button>
                                    <button class="btn btn-success pull-right me-1" type="submit" (click)="collateralSubmit('update')" *ngIf="cp6Submit && cpCollateral2">Update</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUWRCollateral();">Previous</button>
                                </div>
                                <div *ngIf="false">
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >Collateral:</label>
                                            <hr>
                                        </div>
                                        <div class="row" *ngFor="let collateral of collateralValueList;  let i = index">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{collateral.value}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right" type="submit"  awNextStep>Next</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUWRCollateral();">Previous</button>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle="Credit Policy" class="nav-pills nav-primary" [active]="uwrCreditPolicyNp">
                                <div *ngIf="cp6Submit">
                                    <div class="card mt-2" style="visibility: hidden;">
                                        <div class="card" *ngFor="let proposalArr of creditProposalList; let i = index" style="visibility: visible;">
                                            <div class="col-form-label pt-0 mt-3 ms-3 me-3">
                                                <label><b>{{proposalArr.customerInfoEntity.customerName}}</b></label>
                                            </div>
                                            <div class="form-group ms-3 me-3">
                                                <label>Minimum Vintage with Anchor (in Months)</label><span class="font-danger">*</span>
                                                <div class="input-group">
                                                    <input class="form-control"  type="text"  name="vintageWithAnchor{{i}}" [(ngModel)]="proposalArr.vintageWithAnchor" required="" maxlength="20" minlength="1" pattern="[+-]?([0-9]*[.])?[0-9]+" (keypress)="allowNumbersWithDot($event)">
                                                    <div class="input-group-append"><span class="input-group-text">Months</span></div>
                                                </div>
                                                <div class ="invalid-feedback">Please Enter Vintage with anchor</div>
                                            </div>
                                            <div class="form-group ms-3 me-3">
                                                <label>Minimum Monthly Purchase from Anchor (Rs in Lakhs)</label><span class="font-danger">*</span>
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"></span></div>
                                                    <input class="form-control"  type="text"  name="minMonthlyAnchor{{i}}" [(ngModel)]="proposalArr.minMonthlyAnchor" required="" maxlength="20" minlength="1" pattern="[+-]?([0-9]*[.])?[0-9]+" (keypress)="allowNumbersWithDot($event)">
                                                </div>
                                                <div class ="invalid-feedback">Please Enter Min Monthly from anchor</div>
                                            </div>
                                            <div class="form-group ms-3 me-3">
                                                <label>Anchor Relationship</label><span class="font-danger">*</span>
                                                <select class="js-example-basic-single col-sm-12 job-select2 form-group" type="text"  name="anchorRelationship{{i}}" [(ngModel)]="proposalArr.anchorRelationship" required="">
                                                    <option value="High">High</option>
                                                    <option value="Low">Low</option>
                                                </select>
                                                <div class ="invalid-feedback">Please Enter Anchor Relationship</div>
                                            </div>
                                        </div>
                                        <div style="visibility: visible;">

                                            <button class="btn btn-success pull-right mt-2 me-2" type="button" *ngIf="!creditCheck"  (click)="saveProCreditPolicy('save');">Save</button>
                                            <button class="btn btn-success pull-right mt-2 me-2" type="button" *ngIf="creditCheck" (click)="saveProCreditPolicy('update');">Update</button>
                                            <button class="btn btn-secondary pull-right mt-2 me-2" type="button"  *ngIf="!creditCheck" (click)="previousUWRCreditPolicy();">Previous</button>
                                        </div>
                                    </div>
                                    <label *ngIf="creditCheck && creditPolicyView" class="fw-bold form-group mt-2 ms-2">CreditPolicyDetails:</label>
                                    <div *ngIf="creditCheck" class="form-group ms-3 me-3">
                                        <div *ngFor="let creditPolicyFilter of creditPolicyMasterList;let j=index">

                                            <div *ngIf="creditPolicyFilter.dataType == 'Integer'">
                                                <div class="form-group ms-3 me-3">
                                                    <label>{{creditPolicyFilter.displayName}}</label><span class="font-danger">*</span>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text" id="{{creditPolicyFilter.displayName}}" (change)="storeCreditPolicy(creditPolicyFilter.id,$event,creditPolicyFilter.dataType);" required="" minlength="1" maxlength="10">
                                                        <div class ="invalid-feedback">Please Enter {{creditPolicyFilter.displayName}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="creditPolicyFilter.dataType == 'dropString'">
                                                <div class="form-group ms-3 me-3" >
                                                    <label>{{creditPolicyFilter.displayName}}</label><span class="font-danger">*</span>

                                                    <div class="input-group">
                                                        <select class="js-example-basic-single col-sm-12 job-select2 form-group" type="text" id="{{creditPolicyFilter.displayName}}" (change)="storeCreditPolicy(creditPolicyFilter.id,$event,creditPolicyFilter.dataType);" required="" >
                                                            <option value="none" selected disabled hidden>Select an Option</option>
                                                            <option value="Verified">Verified</option>
                                                            <option value="Not Verified">Not Verified</option>
                                                        </select>
                                                        <div class ="invalid-feedback">Please Enter {{creditPolicyFilter.displayName}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="creditPolicyFilter.dataType == 'CheckPolicy'">
                                                <div class="form-group ms-3 me-3" >
                                                    <label>{{creditPolicyFilter.displayName}}</label><span class="font-danger">*</span>

                                                    <div class="input-group">
                                                        <input class="form-control" type="number" id="{{creditPolicyFilter.displayName}}" (change)="storeCreditPolicy(creditPolicyFilter.id,$event,creditPolicyFilter.dataType);" required="" minlength="1" maxlength="10"  >
                                                        <div class ="invalid-feedback">Please Enter {{creditPolicyFilter.displayName}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngFor="let results of creditPolicyResults; let i = index">
                                        <label ><b>Anchor Name :&nbsp;{{results.anchorName}}</b> </label>
<!--                                        <div *ngIf="results.status;"><b>Credit Policy Result : Approved</b> </div>-->
<!--                                        <div *ngIf="results.status==false;"><b>Credit Policy Result : Rejected</b> </div>-->
                                        <table class="table table-border-vertical">
                                            <col style="width:70%">
                                            <col style="width:15%">
                                            <col style="width:15%">
                                            <thead>
                                            <tr>
                                                <th scope="col">Checking Criteria</th>
                                                <th scope="col">Result</th>
                                                <th scope="col">CreditPolicy Values</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let result of results.data; let k = index">
                                                <td>{{result.displayName}}</td>
                                                <td><div *ngIf="result.result; else elseCreditResult">
                                                    <span class="badge badge-success">True</span>
                                                </div>
                                                    <ng-template #elseCreditResult><span class="badge badge-danger">False</span></ng-template>
                                                </td>
                                                <td>{{result.value}}</td>
                                            </tr>
                                           </tbody>
                                        </table>
                                        <button class="btn btn-danger pull-right mt-3 ms-2 me-2" id="{{results.proposedPrimaryId}}R" (click)="storeCreditPolicyStatus(results.proposedPrimaryId,false);" [disabled]="(results.status==false)">Reject</button>
                                        <button class="btn btn-success pull-right mt-3 ms-2 me-2" id="{{results.proposedPrimaryId}}A" (click)="storeCreditPolicyStatus(results.proposedPrimaryId,true);" [disabled]="(results.status==true)">Approve</button>
                                        <br>
                                        <br>
                                        <br>
                                    </div>

<!--                                    <button class="btn btn-primary pull-right me-1" type="submit" (click)="getRemarks();">Next</button>-->
                                    <button class="btn btn-primary pull-right mt-3 me-2" type="submit" *ngIf="!updateCreditPolicyFlag && creditCheck" [disabled]="saveCreditPolicyFlag" (click)="creditPolicyDetailsSubmit('save');getRemarks();" >Next</button>
                                    <button class="btn btn-primary pull-right mt-3 me-2" type="submit"  *ngIf="updateCreditPolicyFlag && creditCheck" [disabled]="saveCreditPolicyFlag"  (click)="creditPolicyDetailsSubmit('update');getRemarks();" >Next</button>
                                    <button class="btn btn-success pull-right mt-3 ms-2 me-2" *ngIf="creditCheck" type="submit" (click)="validateCreditPolicy();">Run Credit Policy</button>
                                    <button class="btn btn-secondary pull-right mt-3 me-2" type="button" *ngIf="creditCheck" (click)="previousUWRCreditPolicy();">Previous</button>
                                </div>
                                <div  *ngIf="false">
                                    <label>Completed</label>
                                    <button class="btn btn-primary pull-right mt-3 me-2" type="submit" awNextStep>Submit</button>
                                    <button class="btn btn-secondary pull-right mt-3 me-2" type="button" (click)="previousUWRCreditPolicy();">Previous</button>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="uwrRemarks">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="underWriterReviewSubmit();" >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="getUpdateCreditPolicyDetails();previousUWRRemarks();">Previous</button>
                                </div>
                            </ngx-tab>


                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Under Writer PD Review'" [(awCompletedStep)]="sevenComplete" [awSelectedStep]="sevenWip" class="seven">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-check-square"></i></div>
                    </div>
                </ng-template>
                <div class="card" >
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50 justifyLeft">
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="uwPdRCpDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4" style="visibility: hidden;"
                                                >
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-12">
                                            <div class="card p-4" style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >Proposal Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Name of the Anchor</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Product</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{proposal.product}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Proposed Amount</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{proposal.proposed}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Status</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                <label>Active</label>
                                                            </div>
                                                            <ng-template #elseproposalDetailsFlag>
                                                                <label>InActive</label>
                                                            </ng-template>
                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index" style="visibility: hidden;">
                                        <div class="fw-bold form-group" style="visibility: visible;">
                                            <label >Debt Profile:</label>
                                            <hr>
                                        </div>
                                        <div class="row" style="visibility: visible;">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Bank/FI</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.bankFI}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Facility Type</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.facilityType}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Tenure</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.tenure}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Date(Sanction)</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.sanctionDate}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Limit Sanctioned:</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.sanctionLimit}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>O/S as On</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.outstandingOnDate}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>EMI</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.emi}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Interest</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.interestRate}}</label>
                                                        <span  class="suffix-rp">%</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Security</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.security}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>General or Specific Limit Calculation</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.specificLimit}}</label>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Remarks</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.remarks}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card p-4 " style="visibility: hidden;">
                                        <div class="fw-bold form-group" style="visibility: visible;">
                                            <label >Limit Eligibility:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index" style="visibility: visible;">
                                            <div class="row" >
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Product</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.product}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Regular Limit(Current If any)</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.currentLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Regular Limit(Proposed)</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.proposedLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Eligible Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.eligibleLimit}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Ad-hoc Limit(possible)</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.adhocLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Credit Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.creditPeriod}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Door-To-Door</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.doorToDoor}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Ageing</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.invoiceAgeing}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Expected Growth in To</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.expectedGrowth}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Monthly Average To With Anchor</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.monthlyAverage}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Approtioned Exisiting WC Limits</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.approtionedLimits}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Exisiting SCF Limit From Others</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.existingScfLimits}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Model Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.modelLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Customer Requested Amount</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Recommended Amount</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Receivables</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.receivables}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Inventory</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.inventory}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Creditors</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.creditor}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Expected monthly turnover with anchor</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Model Adhoc Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <br> <br> <br>
                                        </div>
                                    </div>

                                    <div class="card p-4 " style="visibility: hidden;">
                                        <div class="fw-bold form-group" style="visibility: visible;">
                                            <label >TermSheet Details:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let termSheet of termSheetList; let i = index" style="visibility: visible;">
                                            <div class="row" >
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Product</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.product}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Regular Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.regularLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Ad-hoc Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.adhocLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Credit Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.creditPeriod}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Door-to-Door</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.doorToDoor}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Ageing</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.invoiceAgeing}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Margin</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.margin}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Rate</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestRate}}</label>
                                                            <span  class="suffix-rp">%</span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Processing Fee</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.pf}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Renewal Fees</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.renewal}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Rate Type</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestRateType}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Renewal Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.renewalPeriod}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Application Of Interest</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.applyOfInterest}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Borne By</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestBorneBy}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Penalty Borne By</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.penaltyBorneBy}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Funding</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.invoiceFunding}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Grace Days</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.graceDays}}</label>
                                                        </div>
                                                    </div>

                                                </div>
                                                <br> <br> <br>
                                            </div>
                                            <br> <br> <br>
                                        </div>
                                    </div>

                                    <div class="card p-4 " style="visibility: hidden;">
                                        <div class="fw-bold form-group"style="visibility: visible;" >
                                            <label >Collateral:</label>
                                            <hr>
                                        </div>
                                        <div class="row" *ngFor="let collateral of collateralValueList;  let i = index" style="visibility: visible;">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{collateral.value}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card p-4 " style="visibility: hidden;">
                                        <div class="fw-bold form-group"style="visibility: visible;" >
                                            <label >Fund Request Details:</label>
                                            <hr>
                                        </div>
                                        <div class="row" *ngFor="let fundReq of fundReqDetails;  let i = index" style="visibility: visible;">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>{{fundReqDetails[i].fundRequirementMasterEntity.displayName}}</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{fundReq.value}}</label>
                                                </div>
                                            </div>
                                            <br><br>
                                        </div>
                                    </div>
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >Credit Policy Details:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let results of creditPolicyResults; let i = index">
                                            <label ><b>Anchor Name :&nbsp;{{results.anchorName}}</b> </label>
                                            <label *ngIf="results.status == true"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status :&nbsp;Approved</b> </label>
                                            <label *ngIf="results.status == false"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status :&nbsp;Reject</b> </label>
                                            <table class="table table-border-vertical">
                                                <col style="width:70%">
                                                <col style="width:15%">
                                                <col style="width:15%">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Checking Criteria</th>
                                                    <th scope="col">Result</th>
                                                    <th scope="col">CreditPolicy Values</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr *ngFor="let result of results.data; let k = index">
                                                    <td>{{result.displayName}}</td>
                                                    <td><div *ngIf="result.result; else elseCreditResult">
                                                        <span class="badge badge-success">True</span>
                                                    </div>
                                                        <ng-template #elseCreditResult><span class="badge badge-danger">False</span></ng-template>
                                                    </td>
                                                    <td>{{result.value}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                            <br>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right me-1"  type="submit" (click)="nextUwPdRCpDetails();getUpdateDueDiligence(newAppId);" *ngIf="cp7Submit">Next</button>
                                    <button class="btn btn-outline-secondary pull-right me-1" type="button" *ngIf="cp7Return" (click)="popupWorkflow(23,-1,'CP_CREDIT_HEAD_LEAD');">Return</button>
                                    <button class="btn badge-danger pull-right me-1" type="button" *ngIf="cp7Reject" (click)="popupWorkflow(23,-2,'CP_CREDIT_HEAD_LEAD');">Reject</button>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="Due Diligence" class="nav-pills nav-primary justifyLeft" [active]="uwPdRDueDiligenceNp">
                                <div class="tab-pane fade show" *ngIf="cp7Submit">
                                    <div *ngFor="let dueDiligence of dueDiligenceMaster;let i=index">
                                        <form class="needs-validation" nonvalidate [ngClass]="{'was-validated': dueDiligenceValidate}">
                                            <div *ngIf="dueDiligence.status == '1';">
                                                <div *ngIf="dueDiligence.datatype == 'TimeStamp';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{dueDiligence.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="date" id="{{dueDiligence.name}}" (change)="storeDueDiligence(dueDiligence.id,$event,dueDiligence.datatype);" required = "">
                                                            <div class ="invalid-feedback">Please Enter {{dueDiligence.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="dueDiligence.datatype == 'String';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{dueDiligence.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="text" id="{{dueDiligence.name}}" (change)="storeDueDiligence(dueDiligence.id,$event,dueDiligence.datatype);" required="" minlength="1">
                                                            <div class ="invalid-feedback">Please Enter {{dueDiligence.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="dueDiligence.datatype == 'Integer';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{dueDiligence.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="text" id="{{dueDiligence.name}}" (change)="storeDueDiligence(dueDiligence.id,$event,dueDiligence.datatype);" required="" maxlength="10" minlength="1" onlyNumbers>
                                                            <div class ="invalid-feedback">Please Enter {{dueDiligence.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="dueDiligence.datatype == 'Long';">
                                                    <div class="form-group ms-3 me-3" >
                                                        <label>{{dueDiligence.displayName}}</label><span class="font-danger">*</span>
                                                        <div class="input-group">
                                                            <input class="form-control" type="text" id="{{dueDiligence.name}}" (change)="storeDueDiligence(dueDiligence.id,$event,dueDiligence.datatype);" required="" maxlength="10" minlength="1" onlyNumbers>
                                                            <div class ="invalid-feedback">Please Enter {{dueDiligence.displayName}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <button class="btn btn-primary pull-right" type="submit" [disabled]="dueDiligence1" *ngIf="cp7Submit" (click)="getRemarks();nextDueDiligence();getCpTermSheetById('0');getCommercialCcGetById();">Next</button>
                                    <button class="btn btn-success pull-right me-1" type="submit" *ngIf="cp7Submit && !dueDiligence2" (click)="dueDiligenceSubmit('save');">Save</button>
                                    <button class="btn btn-success pull-right me-1" type="submit" *ngIf="cp7Submit && dueDiligence2"(click)="dueDiligenceSubmit('update')" >Update</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousDueDiligence();">Previous</button>
                                </div>
                                <div class="tab-pane fade show" *ngIf="false">
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >DueDiligenceDetails:</label>
                                            <hr>
                                        </div>
                                        <div class="row" *ngFor="let DueDiligence of dueDiligenceValues;  let i = index">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>{{dueDiligenceValues[i].dueDiligenceMasterEntity.displayName}}</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{DueDiligence.value}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right"  type="submit" *ngIf="false"(click)="getCpTermSheetById('0');getCommercialCcGetById();" awNextStep>Next</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousDueDiligence();">Previous</button>
                                </div>
                            </ngx-tab>


                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="uwPdRemarks">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(23,2,'CP_CREDIT_APPROVAL_COMMITTEE_LEAD');" >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousUwRemarks();">Previous</button>
                                </div>
                            </ngx-tab>

                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Commercial/Credit'" [(awCompletedStep)]="eightComplete" [awSelectedStep]="eightWip" class="eight">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-credit-card"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50 justifyLeft">
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="commercialCreditCpDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4 " style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;" >
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12">
                                                <div class="card p-4" style="visibility: hidden;"
                                                >
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Proposal Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Name of the Anchor</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Product</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.product}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Proposed Amount</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.proposed}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Anchor Status</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                    <label>Active</label>
                                                                </div>
                                                                <ng-template #elseproposalDetailsFlag>
                                                                    <label>InActive</label>
                                                                </ng-template>
                                                            </div>
                                                        </div>
                                                        <br> <br> <br>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index" style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Debt Profile:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" style="visibility: visible;">
                                                    <div class="col-md-12">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Bank/FI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.bankFI}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Facility Type</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.facilityType}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Tenure</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.tenure}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Date(Sanction)</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Limit Sanctioned:</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>O/S as On</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.outstandingOnDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>EMI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.emi}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Interest</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.interestRate}}</label>
                                                                <span  class="suffix-rp">%</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Security</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.security}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>General or Specific Limit Calculation</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.specificLimit}}</label>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Remarks</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.remarks}}</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group"  style="visibility: visible;">
                                                    <label >Limit Eligibility:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Current If any)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.currentLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Proposed)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.proposedLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Eligible Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.eligibleLimit}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit(possible)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditPeriod}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-To-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.doorToDoor}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
<!--                                                            <div class="row">-->
<!--                                                                <div class="fw-bold col-md-6">-->
<!--                                                                    <label>Margin</label>-->
<!--                                                                </div>-->
<!--                                                                <div class="col-md-6">-->
<!--                                                                    <label>{{limitEligibility.margin}}</label>-->
<!--                                                                </div>-->
<!--                                                            </div>-->
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected Growth in To</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedGrowth}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Monthly Average To With Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.monthlyAverage}}</label>
                                                                </div>
                                                            </div>
<!--                                                            <div class="row">-->
<!--                                                                <div class="fw-bold col-md-6">-->
<!--                                                                    <label>Calculated Limit W/O set Off</label>-->
<!--                                                                </div>-->
<!--                                                                <div class="col-md-6">-->
<!--                                                                    <label>{{limitEligibility.calculatedLimitWoSetOff}}</label>-->

<!--                                                                </div>-->
<!--                                                            </div>-->
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Approtioned Exisiting WC Limits</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.approtionedLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Exisiting SCF Limit From Others</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.existingScfLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Customer Requested Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Recommended Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Receivables</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.receivables}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Inventory</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.inventory}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Creditors</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected monthly turnover with anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Adhoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >TermSheet Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let termSheet of termSheetList; let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.regularLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.creditPeriod}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-to-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.doorToDoor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Margin</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.margin}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRate}}</label>
                                                                    <span  class="suffix-rp">%</span>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Processing Fee</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.pf}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal Fees</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewal}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate Type</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRateType}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewalPeriod}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Application Of Interest</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.applyOfInterest}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Penalty Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.penaltyBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Funding</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceFunding}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Grace Days</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.graceDays}}</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Collateral:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let collateral of collateralValueList;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{collateral.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >DueDiligenceDetails:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let DueDiligence of dueDiligenceValues;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{dueDiligenceValues[i].dueDiligenceMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{DueDiligence.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group"style="visibility: visible;" >
                                                    <label >Fund Request Details:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let fundReq of fundReqDetails;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{fundReqDetails[i].fundRequirementMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{fundReq.value}}</label>
                                                        </div>
                                                    </div>
                                                    <br><br>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="card p-4 ">
                                            <div class="fw-bold form-group" >
                                                <label >Credit Policy Details:</label>
                                                <hr>
                                            </div>
                                            <div *ngFor="let results of creditPolicyResults; let i = index">
                                                <label ><b>Anchor Name :&nbsp;{{results.anchorName}}</b> </label>
                                                <label *ngIf="results.status == true"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status :&nbsp;Approved</b> </label>
                                                <label *ngIf="results.status == false"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status :&nbsp;Reject</b> </label>
                                                <table class="table table-border-vertical">
                                                    <col style="width:70%">
                                                    <col style="width:15%">
                                                    <col style="width:15%">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">Checking Criteria</th>
                                                        <th scope="col">Result</th>
                                                        <th scope="col">CreditPolicy Values</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr *ngFor="let result of results.data; let k = index">
                                                        <td>{{result.displayName}}</td>
                                                        <td><div *ngIf="result.result; else elseCreditResult">
                                                            <span class="badge badge-success">True</span>
                                                        </div>
                                                            <ng-template #elseCreditResult><span class="badge badge-danger">False</span></ng-template>
                                                        </td>
                                                        <td>{{result.value}}</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                                <br>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextCreditCPDetails();getDocumentReports();" *ngIf="creditCC && !commercialCC">Next</button>
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextCommercialCreditCPDetails();getDocumentReports();" *ngIf="commercialCC && !creditCC">Next</button>
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextCommercialCreditApproval();getDocumentReports();" *ngIf="creditCC && commercialCC">Next</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="Commercial CC approval" *ngIf="commercialCC && !creditCC" nav class="nav-pills nav-primary"  [active]="commercialCCApprovalNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                <div *ngIf="docType.type == 4;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let documents of docReports;let j=index">
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 0;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 1;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="card-body default-accordion" style="padding: 12px; margin-top: 20px;">
                                            <h5>Uploaded Documents</h5>
                                            <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                                <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                                    <ng-template ngbPanelTitle>
                                                        <div *ngIf="reportDetails.appType == 1;">
                                                            Initial Onboarded Documents
                                                        </div>
                                                        <div *ngIf="reportDetails.appType == 2;">
                                                            Renewal Documents {{reportDetails.wfType}}
                                                        </div>
                                                        <div *ngIf="reportDetails.appType == 3;">
                                                            Enhancement Documents {{reportDetails.wfType}}
                                                        </div>
                                                    </ng-template>
                                                    <ng-template ngbPanelContent>
                                                        <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                            <div *ngIf="docType.type == 4;">
                                                                <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                    <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                        <div>
                                                                            <label><b>{{documents.docList}}</b></label>
                                                                        </div>
                                                                        <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="col-sm-10 mb-2">
                                                                                <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                            </div>
                                                                            <div class="col-sm-2 mb-2">
                                                                                <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                    <i class="mt-1 fa fa-cloud-download"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </ngb-panel>
                                            </ngb-accordion>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right" *ngIf="cp8Submit" type="submit" (click)="nextCommerciaApproval();getRemarks();getCpTermSheetById('0');getCommercialCcGetById();" >Next</button>
                                    <button class="btn btn-outline-secondary pull-right me-1" type="button" *ngIf="cp8Return" (click)="popupWorkflow(18,-1,'CP_COMMERCIAL_APPROVAL_COMMITTEE_LEAD');">Return</button>
                                    <button class="btn badge-danger pull-right me-1" type="button" *ngIf="cp8Reject" (click)="popupWorkflow(18,-2,'CP_COMMERCIAL_APPROVAL_COMMITTEE_LEAD');">Reject</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCommercialApproval();">Previous</button>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle="Credit CC approval" *ngIf="creditCC && !commercialCC" nav class="nav-pills nav-primary"  [active]="creditCCApprovalNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                <div *ngIf="docType.type == 4;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let documents of docReports;let j=index">
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 0;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 1;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="card-body default-accordion" style="padding: 12px; margin-top: 20px;">
                                            <h5>Uploaded Documents</h5>
                                            <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                                <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                                    <ng-template ngbPanelTitle>
                                                        <div *ngIf="reportDetails.appType == 1;">
                                                            Initial Onboarded Documents
                                                        </div>
                                                        <div *ngIf="reportDetails.appType == 2;">
                                                            Renewal Documents {{reportDetails.wfType}}
                                                        </div>
                                                        <div *ngIf="reportDetails.appType == 3;">
                                                            Enhancement Documents {{reportDetails.wfType}}
                                                        </div>
                                                    </ng-template>
                                                    <ng-template ngbPanelContent>
                                                        <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                            <div *ngIf="docType.type == 4;">
                                                                <h4 class="mt-2">{{docType.displayName}}</h4>
                                                                <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                    <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                        <div>
                                                                            <label><b>{{documents.docList}}</b></label>
                                                                        </div>
                                                                        <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="col-sm-10 mb-2">
                                                                                <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                            </div>
                                                                            <div class="col-sm-2 mb-2">
                                                                                <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                    <i class="mt-1 fa fa-cloud-download"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </ngb-panel>
                                            </ngb-accordion>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right" *ngIf="creditCC" type="submit" (click)="nextCreditApproval();getRemarks();getCpTermSheetById('0');getCommercialCcGetById();">Next</button>
                                    <button class="btn btn-outline-secondary pull-right me-1" type="button" *ngIf="cp8Return" (click)="popupWorkflow(18,-1,'CP_CREDIT_APPROVAL_COMMITTEE_LEAD');">Return</button>
                                    <button class="btn badge-danger pull-right me-1" type="button" *ngIf="cp8Reject" (click)="popupWorkflow(18,-2,'CP_CREDIT_APPROVAL_COMMITTEE_LEAD');">Reject</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCreditCPDetails();">Previous</button>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle="Commercial/Credit CC approval" *ngIf="commercialCC && creditCC" nav class="nav-pills nav-primary"  [active]="commercialCreditNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <h2>Commercial Approval Committee</h2>
                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                <div *ngIf="docType.type == 4;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let documents of docReports;let j=index">
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 0;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 1;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <h2>Credit Approval Committee</h2>
                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                <div *ngIf="docType.type == 4;">
                                                    <h4 class="mt-2">{{docType.displayName}}</h4>
                                                    <div *ngFor="let documents of docReports;let j=index">
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 0;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card" style="padding:2%;" *ngIf="documents.docTypeId==docType.id && documents.defType == 1;">
                                                            <div>
                                                                <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                            </div>
                                                            <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                <div class="col-sm-10 mb-2">
                                                                    <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                </div>
                                                                <div class="col-sm-2 mb-2">
                                                                    <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                        <i class="mt-1 fa fa-cloud-download"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card-body default-accordion" style="padding: 12px; margin-top: 20px;">
                                        <h5>Uploaded Documents</h5>
                                        <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                            <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                                <ng-template ngbPanelTitle>
                                                    <div *ngIf="reportDetails.appType == 1;">
                                                        Initial Onboarded Documents
                                                    </div>
                                                    <div *ngIf="reportDetails.appType == 2;">
                                                        Renewal Documents {{reportDetails.wfType}}
                                                    </div>
                                                    <div *ngIf="reportDetails.appType == 3;">
                                                        Enhancement Documents {{reportDetails.wfType}}
                                                    </div>
                                                </ng-template>
                                                <ng-template ngbPanelContent>
                                                    <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                        <div *ngIf="docType.type == 4;">
                                                            <h4 class="mt-2">{{docType.displayName}}</h4>
                                                            <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                <div class="card" style="padding:2%;" *ngIf="documents.docType==docType.displayName && documents.defType == 0;">
                                                                    <div>
                                                                        <label><b>{{documents.docList}}</b></label>
                                                                    </div>
                                                                    <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                        <div class="col-sm-10 mb-2">
                                                                            <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                        </div>
                                                                        <div class="col-sm-2 mb-2">
                                                                            <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docTypeName,documents.docListName,file.fileName);">
                                                                                <i class="mt-1 fa fa-cloud-download"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-panel>
                                        </ngb-accordion>
                                    </div>

                                    <button class="btn btn-primary pull-right" *ngIf="cp8Submit" type="submit" (click)="nextCommercialCreditRemApproval();getRemarks();getCpTermSheetById('0');getCommercialCcGetById();" >Next</button>
                                    <button class="btn btn-outline-secondary pull-right me-1" type="button" *ngIf="cp8Return" (click)="returnPopupCredComFun(18);">Return</button>
                                    <button class="btn badge-danger pull-right me-1" type="button" *ngIf="cp8Reject" (click)="rejectPopupCredComFun(18);">Reject</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCommercialCreditCPDetails();">Previous</button>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="CommercialCreditRemarks">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <div *ngIf = "remarks.currentStageTeam == 'CP_CREDIT_APPROVAL_COMMITTEE_LEAD'">
                                                                <label>Credit Committee</label>
                                                            </div>
                                                            <div *ngIf = "remarks.currentStageTeam == 'CP_COMMERCIAL_APPROVAL_COMMITTEE_LEAD'">
                                                                <label>Commercial Committee</label>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(18,1,'CP_CREDIT_APPROVAL_COMMITTEE_LEAD');"*ngIf="cp8Submit && creditCC && !commercialCC">Submit</button>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(18,1,'CP_COMMERCIAL_APPROVAL_COMMITTEE_LEAD');"*ngIf="cp8Submit && commercialCC && !creditCC">Submit</button>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(18,1,'CP_CREDIT_APPROVAL_COMMITTEE_LEAD');"*ngIf="cp8Submit && commercialCC && creditCC">Submit</button>
                                    <button class="btn btn-secondary pull-right me-1"  type="button" (click)="prevCommercialCreditApproval();" *ngIf="creditCC && commercialCC">Previous</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCreditRemarks();" *ngIf="creditCC && !commercialCC">Previous</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousCommercialRemarks();" *ngIf="commercialCC && !creditCC">Previous</button>
                                </div>
                            </ngx-tab>

                        </ngx-tabset>

                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'RM Customer Acceptance'" [(awCompletedStep)]="nineComplete" [awSelectedStep]="nineWip" class="nine">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-thumbs-up"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50 justifyLeft">

                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="rmCustCpDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4 " style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="card p-4" style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Proposal Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Name of the Anchor</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Product</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.product}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Proposed Amount</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.proposed}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Anchor Status</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                    <label>Active</label>
                                                                </div>
                                                                <ng-template #elseproposalDetailsFlag>
                                                                    <label>InActive</label>
                                                                </ng-template>
                                                            </div>
                                                        </div>
                                                        <br> <br> <br>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index" style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Debt Profile:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" style="visibility: visible;">
                                                    <div class="col-md-12">

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Bank/FI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.bankFI}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Facility Type</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.facilityType}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Tenure</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.tenure}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Date(Sanction)</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Limit Sanctioned:</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>O/S as On</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.outstandingOnDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>EMI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.emi}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Interest</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.interestRate}}</label>
                                                                <span  class="suffix-rp">%</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Security</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.security}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>General or Specific Limit Calculation</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.specificLimit}}</label>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Remarks</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.remarks}}</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4" style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >Limit Eligibility:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Current If any)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.currentLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Proposed)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.proposedLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Eligible Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.eligibleLimit}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit(possible)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditPeriod}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-To-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.doorToDoor}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected Growth in To</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedGrowth}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Monthly Average To With Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.monthlyAverage}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Approtioned Exisiting WC Limits</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.approtionedLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Exisiting SCF Limit From Others</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.existingScfLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Customer Requested Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Recommended Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Receivables</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.receivables}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Inventory</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.inventory}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Creditors</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected monthly turnover with anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Adhoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >TermSheet Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let termSheet of termSheetList; let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.regularLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.creditPeriod}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-to-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.doorToDoor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Margin</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.margin}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRate}}</label>
                                                                    <span  class="suffix-rp">%</span>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>PF</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.pf}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewal}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate Type</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRateType}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewalPeriod}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Application Of Interest</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.applyOfInterest}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Penalty Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.penaltyBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Funding</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceFunding}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Grace Days</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.graceDays}}</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >Collateral:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let collateral of collateralValueList;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{collateral.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >DueDiligenceDetails:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let DueDiligence of dueDiligenceValues;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{dueDiligenceValues[i].dueDiligenceMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{DueDiligence.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group"style="visibility: visible;" >
                                                    <label >Fund Request Details:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let fundReq of fundReqDetails;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{fundReqDetails[i].fundRequirementMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{fundReq.value}}</label>
                                                        </div>
                                                    </div>
                                                    <br><br>
                                                </div>
                                            </div>

                                            <div class="card p-4 ">
                                                <div class="fw-bold form-group" >
                                                    <label >Credit Policy Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let results of creditPolicyResults; let i = index">
                                                    <label ><b>Anchor Name :&nbsp;{{results.anchorName}}</b> </label>
                                                    <label *ngIf="results.status == true"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status :&nbsp;Approved</b> </label>
                                                    <label *ngIf="results.status == false"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status :&nbsp;Reject</b> </label>
                                                    <table class="table table-border-vertical">
                                                        <col style="width:70%">
                                                        <col style="width:15%">
                                                        <col style="width:15%">
                                                        <thead>
                                                        <tr>
                                                            <th scope="col">Checking Criteria</th>
                                                            <th scope="col">Result</th>
                                                            <th scope="col">CreditPolicy Values</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr *ngFor="let result of results.data; let k = index">
                                                            <td>{{result.displayName}}</td>
                                                            <td><div *ngIf="result.result; else elseCreditResult">
                                                                <span class="badge badge-success">True</span>
                                                            </div>
                                                                <ng-template #elseCreditResult><span class="badge badge-danger">False</span></ng-template>
                                                            </td>
                                                            <td>{{result.value}}</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                    <br>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextRmCustCpDetails();">Next</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="Commercial CC" nav class="nav-pills nav-primary tabbed-card justifyLeft" [active]="rmCustCommercialCCNp">


                                <div class="card" *ngFor="let termSheet of termSheetList; let i = index" style="visibility: hidden;">

                                    <div style="visibility: visible;" >
                                        <div class="fw-bold mt-3 ms-3" style="visibility: visible;">
                                            <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                        </div>
                                        <hr>
                                        <div *ngFor="let commercial of commercialArray; let j = index" style="visibility: hidden;">
                                            <div class="table-responsive" style="visibility: visible;" *ngIf="i==j">
                                                <table class="table table-border-vertical">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">Return</th>
                                                        <th scope="col">Limits</th>
                                                        <th scope="col">Values</th>
                                                        <th scope="col">Remarks</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <td scope="row">

                                                        </td>
                                                        <td scope="row">Product</td>

                                                        <td>{{termSheet.product}}</td>

                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="productRemarks{{i}}" [(disabled)]="!this.eve"  value="{{termSheet.product}}"  rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">

                                                        </th>
                                                        <th scope="row">Anchor Name</th>
                                                        <td>{{termSheetList[i].customerInfoEntity.customerName}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="nameRemarks{{i}}"  [(disabled)]="!this.eveAnchor" value="{{termSheetList[i].customerInfoEntity.customerName}}"  rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-3{{i}}" type="checkbox" name="checkboxRegular{{i}}" class="ms-3" (change)="checkboxRegular($event,i);" >
                                                                <label for="inline-3{{i}}" ><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Regular Limit</th>
                                                        <td>{{termSheet.regularLimit}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="regularLimitRemarks{{i}}" disabled id="regularLimitRemarks{{i}}" [(ngModel)]="commercial.regularLimitRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-4{{i}}" type="checkbox" name="checkboxAdhoc{{i}}" class="ms-3" (change)="checkboxAdhoc($event,i);">
                                                                <label for="inline-4{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Adhoc Limit</th>
                                                        <td>{{termSheet.adhocLimit}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="adhocLimitRemarks{{i}}" disabled id="adhocLimitRemarks{{i}}" [(ngModel)]="commercial.adhocLimitRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-5{{i}}" type="checkbox"  name="checkboxCredit{{i}}" class="ms-3" (change)="checkboxCredit($event,i);">
                                                                <label for="inline-5{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Credit Period</th>
                                                        <td>{{termSheet.creditPeriod}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="creditPeriodRemarks{{i}}"  disabled id="creditPeriodRemarks{{i}}"   [(ngModel)]="commercial.creditPeriodRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-6{{i}}" type="checkbox" name="checkboxDoor{{i}}" class="ms-3" (change)="checkboxDoor($event,i);">
                                                                <label for="inline-6{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Door-2-Door</th>
                                                        <td>{{termSheet.doorToDoor}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="DoorRemarks{{i}}" disabled id="doorRemarks{{i}}"  [(ngModel)]="commercial.doorRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-7{{i}}" type="checkbox" name="checkboxInvoice{{i}}" class="ms-3" (change)="checkboxInvoice($event,i);">
                                                                <label for="inline-7{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Invoice Ageing</th>
                                                        <td>{{termSheet.invoiceAgeing}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="invoiceRemarks{{i}}"  disabled id="invoiceAgeingRemarks{{i}}" [(ngModel)]="commercial.invoiceAgeingRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-8{{i}}" type="checkbox" name="checkboxMargin{{i}}" class="ms-3" (change)="checkboxMargin($event,i);">
                                                                <label for="inline-8{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Margin</th>
                                                        <td>{{termSheet.margin}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">

                                                                <textarea class="form-control" name="marginRemarks{{i}}"  disabled id="marginRemarks{{i}}" [(ngModel)]="commercial.marginRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-9{{i}}" type="checkbox" class="ms-3" name="checkboxInterest{{i}}" (change)="checkboxInterest($event,i);">
                                                                <label for="inline-9{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Interest Rate</th>
                                                        <td>{{termSheet.interestRate}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="interestRemarks{{i}}"  disabled id="interestRateRemarks{{i}}" [(ngModel)]="commercial.interestRateRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-10{{i}}" type="checkbox" class="ms-3" name="checkboxPf{{i}}" (change)="checkboxPf($event,i);">
                                                                <label for="inline-10{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">PF</th>
                                                        <td>{{termSheet.pf}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="pfRemarks{{i}}"  disabled id="pfRemarks{{i}}" [(ngModel)]="commercial.pfRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-11{{i}}" type="checkbox" name="checkboxRenewal{{i}}" class="ms-3" (change)="checkboxRenewal($event,i);">
                                                                <label for="inline-11{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Renewal</th>
                                                        <td>{{termSheet.renewal}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"   name="renewalRemarks{{i}}" disabled id="renewalRemarks{{i}}" [(ngModel)]="commercial.renewalRemarks"rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-12{{i}}" type="checkbox" class="ms-3" name="checkboxInterestType{{i}}" (change)="checkboxInterestType($event,i);">
                                                                <label for="inline-12{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Interest Type</th>
                                                        <td>{{termSheet.interestRateType}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="interestTypeRemarks{{i}}"  disabled id="interestTypeRemarks{{i}}" [(ngModel)]="commercial.interestTypeRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">
                                                            <div class="checkbox checkbox-dark">
                                                                <input id="inline-13{{i}}" type="checkbox" class="ms-3" name="checkboxRenewalPeriod{{i}}" (change)="checkboxRenewalPeriod($event,i);">
                                                                <label for="inline-13{{i}}"><span class="digits"> </span></label>
                                                            </div>
                                                        </th>
                                                        <th scope="row">Renewal Period</th>
                                                        <td>{{termSheet.renewalPeriod}}</td>
                                                        <td>
                                                            <div class="form-group mt-2">
                                                                <textarea class="form-control"  name="renewalPeriodRemarks{{i}}"  disabled id="renewalPeriodRemarks{{i}}" [(ngModel)]="commercial.renewalPeriodRemarks" rows="1"></textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary pull-right" type="submit" *ngIf="cp9Submit" (click)="nextRmCustCommercialCC();getRemarks();" >Next</button>
                                <button class="btn badge-danger pull-right me-1" type="button" *ngIf="cp9Reject" (click)="popupWorkflow(19,-2,'CP_BUSINESS_LEAD');">Reject</button>
                                <button class="btn btn-outline-secondary pull-right me-1" type="button" *ngIf="cp9Return" (click)="popupWorkflow(19,-1,'CP_CREDIT_APPROVAL_COMMITTEE_LEAD');">Return</button>
                                <button class="btn btn-success pull-right me-1" type="submit" *ngIf="cp9Submit && !commercial2" (click)=saveCommercialCc();>Save</button>
                                <button class="btn btn-success pull-right me-1" type="submit" *ngIf="cp9Submit && commercial2" (click)=updateCommercialCc();>Update</button>
                                <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousRmCustCommercialCC();">Previous</button>
                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="rmCustRemarksCCNp">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(19,2,'CP_OPERATION_MAKER_LEAD');" >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousRmCustRemarksCC();">Previous</button>
                                </div>
                            </ngx-tab>



                        </ngx-tabset>
                    </div>
                </div>
            </form>

        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Operation Maker'" [(awCompletedStep)]="tenComplete" [awSelectedStep]="tenWip" class="ten">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-cogs" ></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50">
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="OpsMakerCpDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4 " style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index" style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12">
                                                <div class="card p-4" style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;" >
                                                        <label >Proposal Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Name of the Anchor</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Product</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.product}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Proposed Amount</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.proposed}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Anchor Status</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                    <label>Active</label>
                                                                </div>
                                                                <ng-template #elseproposalDetailsFlag>
                                                                    <label>InActive</label>
                                                                </ng-template>
                                                            </div>
                                                        </div>
                                                        <br> <br> <br>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index" style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >Debt Profile:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" style="visibility: visible;">
                                                    <div class="col-md-12">

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Bank/FI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.bankFI}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Facility Type</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.facilityType}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Tenure</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.tenure}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Date(Sanction)</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Limit Sanctioned:</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>O/S as On</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.outstandingOnDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>EMI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.emi}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Interest</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.interestRate}}</label>
                                                                <span  class="suffix-rp">%</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Security</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.security}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>General or Specific Limit Calculation</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.specificLimit}}</label>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Remarks</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.remarks}}</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >Limit Eligibility:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Current If any)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.currentLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Proposed)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.proposedLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Eligible Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.eligibleLimit}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit(possible)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditPeriod}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-To-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.doorToDoor}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected Growth in To</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedGrowth}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Monthly Average To With Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.monthlyAverage}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Approtioned Exisiting WC Limits</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.approtionedLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Exisiting SCF Limit From Others</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.existingScfLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Customer Requested Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Recommended Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Receivables</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.receivables}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Inventory</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.inventory}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Creditors</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected monthly turnover with anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Adhoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group"style="visibility: visible;" >
                                                    <label >TermSheet Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let termSheet of termSheetList; let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.regularLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.creditPeriod}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-to-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.doorToDoor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Margin</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.margin}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRate}}</label>
                                                                    <span  class="suffix-rp">%</span>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>PF</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.pf}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewal}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate Type</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRateType}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewalPeriod}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Application Of Interest</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.applyOfInterest}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Penalty Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.penaltyBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Funding</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceFunding}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Grace Days</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.graceDays}}</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >Collateral:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let collateral of collateralValueList;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{collateral.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group"  style="visibility: visible;">
                                                    <label >DueDiligenceDetails:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let DueDiligence of dueDiligenceValues;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{dueDiligenceValues[i].dueDiligenceMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{DueDiligence.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group"style="visibility: visible;" >
                                                    <label >Fund Request Details:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let fundReq of fundReqDetails;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{fundReqDetails[i].fundRequirementMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{fundReq.value}}</label>
                                                        </div>
                                                    </div>
                                                    <br><br>
                                                </div>
                                            </div>

                                        </div>
                                        <button class="btn btn-primary pull-right"  type="submit" *ngIf="cp10Submit" (click)="nextOpsMakerCpDetails();getBeneficiaryById(newAppId);">Next</button>
                                        <button class="btn btn-primary pull-right"  type="submit" *ngIf="false" (click)="nextOpsMakerCpDetails();getBeneficiaryById(newAppId);">Next</button>
                                        <button class="btn btn-outline-secondary pull-right me-1" type="button" *ngIf="cp10Return" (click)="popupWorkflow(20,-1,'CP_BUSINESS_LEAD');">Return</button>
                                        <button class="btn badge-danger pull-right me-1" type="button" *ngIf="cp10Reject" (click)="popupWorkflow(20,-2,'CP_OPERATION_MAKER_LEAD');">Reject</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle ="Beneficiary" nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="OpsMakerBeneficiaryNp">
                                <ng-template>
                                    <div class="tab-pane fade show" >
                                        <div  *ngIf="cp10Submit || cp10Return">
                                            <form class="needs-validation"  nonvalidate [ngClass]="{'was-validated': beneficiaryValidate}">
                                                <h6>Counterparty Beneficiary Details:</h6>
                                                <div class="form-group">
                                                    <label >Name <span class="font-danger">*</span></label>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="beneficiaryName" [(ngModel)]="beneficiaryName" required=""  minlength="1" maxlength="200" >
                                                        <div class ="invalid-feedback">Please Enter Valid Beneficiary Name </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label>Bank Name  <span class="font-danger">*</span></label>
                                                    <div class="col-form-label">
                                                        <select class="form-control js-example-basic-single form-group" type="text"  name="bankDetails" [(ngModel)]="bankDetails" required="" (change) = "getBankNameId(bankDetails)">
                                                            <option value="none">Select a Bank Name</option>
                                                            <option value="{{bankList[k].id}},{{bankList[k].bankName}}" *ngFor="let bank of bankList;let k=index">{{bankList[k].bankName}}</option>
                                                        </select>
                                                        <div class ="invalid-feedback">Please Enter Valid Bank Name  </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label>Bank IFSC  <span class="font-danger">*</span></label>
                                                    <div class="custom-file">
                                                        <input class="form-control"  type="text"  name="bankIfscCode" [(ngModel)]="bankIfscCode" (change) = getBankDetailsWithIFSC($event) required="" minlength="11" maxlength="11">
                                                        <div class ="invalid-feedback">Please Enter Valid Bank IFSC Code  </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label>Bank Branch<span class="font-danger">*</span></label>
                                                    <div class="input-group">
                                                        <input class="form-control"  type="text"  name="bankBranchName" [(ngModel)]="bankBranchName" required="" readonly>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label>Bank Account Number <span class="font-danger">*</span></label>
                                                    <div class="input-group">
                                                        <input class="form-control" type="text"  name="bankAccountNumber"   [(ngModel)]="bankAccountNumber" required=""  minlength="1" maxlength="25" pattern="^[a-zA-Z0-9]+$">
                                                        <div class ="invalid-feedback">Please Enter Valid Bank Account Number  </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div  *ngIf="false">
                                            <div class="row" *ngFor="let cpBeneficiary of beneficiaryList; let i = index" >
                                                <div class="card">
                                                    <div class=" mt-4 ms-4 tab-pane fade show">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-5">
                                                                        <label >Beneficiary Type</label>
                                                                    </div>
                                                                    <div class="col-md-7">
                                                                        <label>{{cpBeneficiary.benType}}</label>
                                                                    </div>
                                                                </div>
                                                                <h4>Anchor Beneficiary Details:</h4>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-5">
                                                                        <label >Name</label>
                                                                    </div>
                                                                    <div class="col-md-7">
                                                                        <label>{{cpBeneficiary.benName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-5">
                                                                        <label >Bank Name</label>
                                                                    </div>
                                                                    <div class="col-md-7">
                                                                        <label>{{cpBeneficiary.bankName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-5">
                                                                        <label >Bank Account Number</label>
                                                                    </div>
                                                                    <div class="col-md-7">
                                                                        <label>{{cpBeneficiary.bankAcctNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-5">
                                                                        <label >Bank IFSC Code</label>
                                                                    </div>
                                                                    <div class="col-md-7">
                                                                        <label>{{cpBeneficiary.bankifscCode}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-5">
                                                                        <label >Bank Branch</label>
                                                                    </div>
                                                                    <div class="col-md-7">
                                                                        <label>{{cpBeneficiary.bankBranchName}}</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right me-1" type="button" *ngIf="cp10Submit"  [disabled]="beneficiary1" (click)="nextOpsMakerBeneficiary();getDocumentReports();getDeferralDocumentReports();getOtherDocMaster();">Next</button>
                                    <button class="btn btn-success pull-right me-1" type="submit" *ngIf="cp10Submit && !beneficiary2" (click)="beneficiarySubmit('save');">Save</button>
                                    <button class="btn btn-success pull-right me-1" type="submit" *ngIf="cp10Submit && beneficiary2" (click)="beneficiarySubmit('update');">Update</button>
                                    <button class="btn btn-primary pull-right me-1" type="button" *ngIf="false" (click)="nextOpsMakerBeneficiary();getDocumentReports();getDeferralDocumentReports();getOtherDocMaster();">Next</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousOpsMakerBeneficiary();">Previous</button>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="OPS Maker" nav class="nav-pills nav-primary tabbed-card justifyLeft" [active]="OpsMakerDocUploadNp">
                                <div class="container-fluid" *ngIf="cp10Submit">
                                    <div class="row" >
                                        <div class="col-sm-12">
                                            <div *ngFor="let docType of documentMaster;let k=index">
                                                <div *ngIf="docType.type == 5;">
                                                    <div *ngFor="let docCategory of docType.documentCategoryEntities;let j=index">
                                                        <h4 class="mt-4">{{docCategory.displayName}}</h4>
                                                        <div *ngFor="let docList of docCategory.documentListEntities;let k=index">
                                                            <div *ngIf="docList.mandatory == 1 && docList.status == 1 && docList.deferral == 0;">
                                                                <div style="display:flex;">
                                                                    <label class="col-form-label"><b>{{docList.displayName}} </b><span class="font-danger">*</span></label>
                                                                </div>
                                                                <div class="custom-file" style="display:flex;">
                                                                    <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}"  type="file"  [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                </div>
                                                                <div *ngFor="let documents of docReports;let i=index">
                                                                    <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id;">
                                                                        <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="input-group">
                                                                                <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docCategory.name,docList.name,file.fileName);"></i></span></div>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2,file.fileName);"></i></span></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="docList.mandatory == 0 && docList.status == 1 && docList.deferral == 0;">
                                                                <div style="display:flex;">
                                                                    <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                </div>
                                                                <div class="custom-file" style="display:flex;">
                                                                    <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                </div>

                                                                <div *ngFor="let documents of docReports;let i=index">
                                                                    <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id;">
                                                                        <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="input-group">
                                                                                <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docCategory.name,docList.name,file.fileName);"></i></span></div>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2,file.fileName);"></i></span></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="docList.mandatory == 2 && docList.status == 1 && docList.deferral == 0;">
                                                                <div style="display:flex;">
                                                                    <input type="checkbox" (change)="docCheckbox($event,docType.id,docCategory.id,docList.id);">
                                                                    <label class="col-form-label"><b>{{docList.displayName}} </b></label>
                                                                </div>
                                                                <div class="custom-file" style="display:flex;">
                                                                    <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                </div>
                                                                <div *ngFor="let documents of docReports;let i=index">
                                                                    <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id;">
                                                                        <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="input-group">
                                                                                <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docCategory.name,docList.name,file.fileName);"></i></span></div>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2,file.fileName);"></i></span></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="docList.mandatory == 0 && docList.deferral == 1 && docList.status == 1 && docList.type == 0;">
                                                                <div style="display:flex;">
                                                                    <label class="col-form-label"><b>{{docList.displayName}} </b><span class="font-danger">*</span></label>
                                                                </div>
                                                                <div class="input-group">
                                                                    <fieldset>
                                                                        <label><b>Deferral : </b></label>
                                                                        <input class="ms-2" type="radio" value="Yes" id="{{docList.id}}A" name="{{docList.name}}" (change)="storeDeferral($event,docList.id,docList.deferral,docList.type);"><label class="ms-2 me-2"> Yes</label>
                                                                        <input class="ms-2" type="radio" checked value="-1" id="{{docList.id}}B" name="{{docList.name}}" (change)="storeDeferral($event,docList.id,docList.deferral,docList.type);"><label class="ms-2"> No</label>
                                                                    </fieldset>
                                                                    <div class="input-group-append ms-3 me-3" ><span><input class="form-control" id="{{docList.id}}C" type="date" style="height:60%; display:none; !important" [min]="minDate" [max]="maxDate" (change)="storeDeferralDate($event,docList.id,docList.type);"></span></div>
                                                                </div>
                                                                <div class="custom-file" style="display:flex;">
                                                                    <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                </div>
                                                                <div *ngFor="let documents of docReports;let i=index">
                                                                    <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id;">
                                                                        <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="input-group">
                                                                                <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docCategory.name,docList.name,file.fileName);"></i></span></div>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2,file.fileName);"></i></span></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="docList.deferral == 2 && docList.status == 1;">
                                                                <div style="display:flex;">
                                                                    <label class="col-form-label"><b>{{docList.displayName}} </b><span class="font-danger">*</span></label>
                                                                </div>
                                                                <div class="input-group">
                                                                    <div style="display:flex;">
                                                                        <label class="col-form-label">Deferral : Default</label>
                                                                        <div class="input-group-append ms-3 me-3" ><span><input class="form-control" id="{{docList.id}}C" type="date" [disabled]="true" style="height:60% !important"></span></div>
                                                                        <select class="col-form-select ms-3" type="text" id="{{docList.id}}D" value="" required="" (change)="storeDeferral($event,docList.id,docList.deferral,docList.type);" style="height:60% !important">
                                                                            <option value="Yes">In-Progress</option>
                                                                            <option value="No">Completed</option>
                                                                        </select>
                                                                        <div class="input-group-append ms-3 me-3" ><span><input class="form-control" id="{{docList.id}}E" maxlength="20" type="text" placeholder="{{docList.displayName}} ID" style="height:60% !important"></span></div>
                                                                        <div class="input-group-append ms-3 me-3" ><span><input class="form-control" id="{{docList.id}}F" type="date" style="height:60% !important"></span></div>
                                                                    </div>
                                                                </div>
                                                                <div class="custom-file" style="display:flex;">
                                                                    <input class="form-control me-2" id="{{docList.id}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                </div>
                                                                <div *ngFor="let documents of docReports;let i=index">
                                                                    <div *ngIf="documents.docTypeId == docType.id && documents.docCategoryId == docCategory.id && documents.docListId == docList.id;">
                                                                        <div class="form-group mt-2" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="input-group">
                                                                                <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                <input class="form-control" style="height: 25px;" type="text" value="{{file.fileName}}" readonly>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadDocument(documents.appId,docCategory.name,docList.name,file.fileName);"></i></span></div>
                                                                                <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,2,file.fileName);"></i></span></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="docList.deferral == 1 && docList.status == 1 && docList.type == 1;">
                                                                <div style="display:flex;">
                                                                    <label class="col-form-label"><b>{{docList.displayName}} </b><i class="ms-3 fa fa-plus-circle pull-right" style="font-size:25px; color:#6366ce;" (click)="addOtherDocument(docList.id,docList.deferral);"></i></label>
                                                                </div>
                                                                <div *ngFor="let otherDocArr of otherDocumentArray; let k = index">
                                                                    <div class="card" style="padding: 15px;">
                                                                        <div class="input-group" style="display:flex;">
                                                                            <fieldset>
                                                                                <label><b>Deferral : </b></label>
                                                                                <input class="ms-2" type="radio" value="0" id="{{docList.id}}A{{k}}" name="deferral{{k}}" [(ngModel)]="otherDocArr.status"><label class="ms-2 me-2"> Yes</label>
                                                                                <input class="ms-2" type="radio" value="2"  id="{{docList.id}}B{{k}}" name="deferral{{k}}" [(ngModel)]="otherDocArr.status"><label class="ms-2"> No</label><i class="fa fa-trash-o pull-right" style="font-size:25px; color:#6366ce;" (click)="deleteOtherDocument(k,otherDocArr.id)"></i>
                                                                            </fieldset>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-6">
                                                                                <input class="form-control" type="text" minlength="1" id="{{docList.id}}C{{k}}" name="displayName{{k}}" maxlength="50" [(ngModel)]="otherDocArr.displayName">
                                                                            </div>
                                                                            <div class="col-md-4" *ngIf="otherDocArr.status == 0;">
                                                                                <input class="form-control" type="date" id="{{docList.id}}D{{k}}" name="initialTime{{k}}" [min]="minDate" [max]="maxDate" [(ngModel)]="otherDocArr.initialTime">
                                                                            </div>
                                                                        </div>
                                                                        <div class="custom-file mt-2" *ngIf="otherDocArr.status == 2;" style="display:flex;">
                                                                            <input class="form-control me-2" id="{{docList.id}}F{{k}}" name="{{docList.id}}" type="file" [disabled]="loading" required="" (change)="uploadOtherDocument($event,docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,otherDocArr.id,otherDocArr.displayName,2,k);" accept=".txt, .pdf, .xlsx, .xls, .doc, .docx, image/*,.zip">
                                                                        </div>
                                                                        <div *ngFor="let documents of OtherDocReports;let i=index">
                                                                            <div *ngIf="documents.docListId == docList.id && documents.otherDocId == otherDocArr.id || otherDocArr.displayName == documents.otherDoc;">
                                                                                <div class="form-group mt-2">
                                                                                    <div class="input-group">
                                                                                        <div class="input-group-append" ><span class="input-group-text" style="height: 25px;"><i class="fa fa-file"></i></span></div>
                                                                                        <input class="form-control" style="height: 25px;" type="text" value="{{documents.fileName}}" readonly>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-download" style="color:#6366ce;" (click)="downloadOtherDocument(documents.appId,docCategory.name,docList.name,documents.otherDocName,documents.fileName);"></i></span></div>
                                                                                        <div class="input-group-append"><span class="input-group-text" style="height: 25px;"><i class="fa fa-trash-o" style="color:#ff0000;" (click)="deleteOtherUploadedFile(docType.id,docType.name,docCategory.id,docCategory.name,docList.id,docList.name,documents.otherDocId,documents.otherDocName,2,documents.fileName,k);"></i></span></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr style="width:100%; margin-left:0; color:red;" class="pe-3">
                                    <div class="row mt-3">
                                        <div class="col-sm-2">
                                            <label>RM Name : </label>
                                        </div>
                                        <div class="col-sm-10">
                                            <select class="js-example-basic-single col-sm-12 job-select2 form-group" type="text" name="docRMName" [(ngModel)]="docRMName" required="">
                                                <option value="{{rmName.email}}" *ngFor="let rmName of rmNameArray;let i=index">{{rmName.firstName}} {{rmName.lastName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="card-body default-accordion" style="padding: 12px; margin-top: 50px;">
                                    <h5>Uploaded Documents</h5>
                                    <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                        <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                            <ng-template ngbPanelTitle>
                                                <div *ngIf="reportDetails.appType == 1;">
                                                    Initial Onboarded Documents
                                                </div>
                                                <div *ngIf="reportDetails.appType == 2;">
                                                    Renewal Documents {{reportDetails.wfType}}
                                                </div>
                                                <div *ngIf="reportDetails.appType == 3;">
                                                    Enhancement Documents {{reportDetails.wfType}}
                                                </div>
                                            </ng-template>
                                            <ng-template ngbPanelContent>
                                                <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                    <div *ngIf="docType.type == 5;">
                                                        <div *ngFor="let docCategory of docType.documentCategoryEntities;let j=index">
                                                            <h4 class="mt-2">{{docCategory.displayName}}</h4>
                                                            <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                <div class="card" style="padding:2%;" *ngIf="documents.docCategoryId==docCategory.id && documents.defType == 0;">
                                                                    <div>
                                                                        <label><b>{{documents.docList}}</b></label>
                                                                    </div>
                                                                    <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                        <div class="col-sm-10 mb-2">
                                                                            <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                        </div>
                                                                        <div class="col-sm-2 mb-2">
                                                                            <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docCategoryName,documents.docListName,file.fileName);">
                                                                                <i class="mt-1 fa fa-cloud-download"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="card" style="padding:2%;" *ngIf="documents.docCategoryId==docCategory.id && documents.defType == 1;">
                                                                    <div>
                                                                        <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                                    </div>
                                                                    <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                        <div class="col-sm-10 mb-2">
                                                                            <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                        </div>
                                                                        <div class="col-sm-2 mb-2">
                                                                            <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                                <i class="mt-1 fa fa-cloud-download"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </ngb-panel>
                                    </ngb-accordion>
                                </div>

                                <button class="btn btn-primary pull-right mt-3" type="submit" *ngIf="cp10Submit && !deferralCheck" [disabled]="docValidationCheck" (click)="documentValidation(5,'save');getRemarks();">Next</button>
                                <button class="btn btn-primary pull-right mt-3" type="submit" *ngIf="cp10Submit && deferralCheck" [disabled]="docValidationCheck" (click)="documentValidation(5,'update');getRemarks();">Next</button>
                                <button class="btn btn-secondary pull-right mt-3 me-2" type="button" (click)="previousOpsMakerDocUpload();">Previous</button>
                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="OpsMakerRemarksNp">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(20,2,'CP_OPERATION_CHECKER_LEAD')" >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousOpsMakerRemarks();">Previous</button>
                                </div>
                            </ngx-tab>

                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Operation  Checker'" [(awCompletedStep)]="elevenComplete" [awSelectedStep]="elevenWip" class="eleven">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-list-alt"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body">
                        <ngx-tabset type="pills" class="tabbed-card width-50">
                            <ngx-tab tabTitle="CP Details"  nav class="nav-pills nav-primary tabbed-card justifyLeft"  [bypassDOM]="true" [active]="OpsCheckerCpDetailsNp">
                                <ng-template>
                                    <div class="tab-pane fade show">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card p-4 " style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Counter Party Basic Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let cpBasic of counterPartyList let i = index"style="visibility: visible;">
                                                        <div class="row" >
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>PAN</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.panNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Company Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.companyName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>GST Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.gstNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>CIN Number</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cinNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Constitution</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.constitution}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Activity</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.activity}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>City/District</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.city}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>State</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.state}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Source</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.source}}</label>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Subsource</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.subSource}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>RM Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.rmName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Name</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContName}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Mobile</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactNumber}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Customer Contact Email</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>{{cpBasic.cusContactEmail}}</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType==2">
                                                                  <div class="row">
                                                                    <div class="fw-bold col-md-6">
                                                                        <label>Type</label>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label>Renewal</label>
                                                                    </div>
                                                                 </div>
                                                                </div>
                                                                <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                                    <div class="row">
                                                                        <div class="fw-bold col-md-6">
                                                                            <label>Type</label>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <label>Enhancement</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12">
                                                <div class="card p-4" style="visibility: hidden;">
                                                    <div class="fw-bold form-group" style="visibility: visible;">
                                                        <label >Proposal Details:</label>
                                                        <hr>
                                                    </div>
                                                    <div *ngFor="let proposal of proposalList;  let i = index" style="visibility: visible;">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Name of the Anchor</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Product</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.product}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Proposed Amount</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{proposal.proposed}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Anchor Status</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                                    <label>Active</label>
                                                                </div>
                                                                <ng-template #elseproposalDetailsFlag>
                                                                    <label>InActive</label>
                                                                </ng-template>
                                                            </div>
                                                        </div>
                                                        <br> <br> <br>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index" style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Debt Profile:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" style="visibility: visible;">
                                                    <div class="col-md-12">

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Bank/FI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.bankFI}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Facility Type</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.facilityType}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Tenure</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.tenure}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Date(Sanction)</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Limit Sanctioned:</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.sanctionLimit}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>O/S as On</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.outstandingOnDate}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>EMI</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.emi}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Interest</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.interestRate}}</label>
                                                                <span  class="suffix-rp">%</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Security</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.security}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>General or Specific Limit Calculation</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.specificLimit}}</label>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Remarks</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>{{debtProfile.remarks}}</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Limit Eligibility:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Current If any)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.currentLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit(Proposed)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.proposedLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Eligible Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.eligibleLimit}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit(possible)</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditPeriod}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-To-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.doorToDoor}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected Growth in To</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedGrowth}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Monthly Average To With Anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.monthlyAverage}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Approtioned Exisiting WC Limits</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.approtionedLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Exisiting SCF Limit From Others</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.existingScfLimits}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Customer Requested Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Recommended Amount</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Receivables</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.receivables}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Inventory</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.inventory}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Creditors</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.creditor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Expected monthly turnover with anchor</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Model Adhoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >TermSheet Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let termSheet of termSheetList; let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Anchor Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Product</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.product}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Regular Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.regularLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Ad-hoc Limit</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.adhocLimit}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Credit Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.creditPeriod}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Door-to-Door</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.doorToDoor}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Ageing</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceAgeing}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Margin</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.margin}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRate}}</label>
                                                                    <span  class="suffix-rp">%</span>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>PF</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.pf}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewal}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Rate Type</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestRateType}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Renewal Period</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.renewalPeriod}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Application Of Interest</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.applyOfInterest}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Interest Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.interestBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Penalty Borne By</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.penaltyBorneBy}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Invoice Funding</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.invoiceFunding}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Grace Days</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{termSheet.graceDays}}</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <br> <br> <br>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;" >
                                                    <label >Collateral:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let collateral of collateralValueList;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{collateral.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >DueDiligenceDetails:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let DueDiligence of dueDiligenceValues;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{dueDiligenceValues[i].dueDiligenceMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{DueDiligence.value}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group" style="visibility: visible;">
                                                    <label >Beneficiary Details:</label>
                                                    <hr>
                                                </div>
                                                <div *ngFor="let anchorBeneficiary of beneficiaryList; let i = index" style="visibility: visible;">
                                                    <div class="row" >
                                                        <div class="col-md-12">
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Beneficiary Type</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{anchorBeneficiary.benType}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Beneficiary Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{anchorBeneficiary.benName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Bank Name</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{anchorBeneficiary.bankName}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Bank Account Number</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{anchorBeneficiary.bankAcctNumber}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Bank IFSC Code</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{anchorBeneficiary.bankifscCode}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="fw-bold col-md-6">
                                                                    <label>Bank Branch</label>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label>{{anchorBeneficiary.bankBranchName}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card p-4 " style="visibility: hidden;">
                                                <div class="fw-bold form-group"style="visibility: visible;" >
                                                    <label >Fund Request Details:</label>
                                                    <hr>
                                                </div>
                                                <div class="row" *ngFor="let fundReq of fundReqDetails;  let i = index" style="visibility: visible;">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>{{fundReqDetails[i].fundRequirementMasterEntity.displayName}}</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{fundReq.value}}</label>
                                                        </div>
                                                    </div>
                                                    <br><br>
                                                </div>
                                            </div>

                                        </div>
                                        <button class="btn btn-primary pull-right"  type="submit" (click)="nextOpsCheckerCpDetails();getDocumentReports();getOtherDocMaster();">Next</button>
                                    </div>
                                </ng-template>
                            </ngx-tab>

                            <ngx-tab tabTitle="OPS Checker" nav class="nav-pills nav-primary tabbed-card justifyLeft" [active]="OpsCheckerDocDownloadNp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                <div *ngIf="docType.type == 5;">
                                                    <div *ngFor="let docCategory of docType.documentCategoryEntities;let i=index">
                                                        <h4 class="mt-2">{{docCategory.displayName}}</h4>
                                                        <div *ngFor="let documents of docReports;let j=index">
                                                            <div class="card" style="padding:2%;" *ngIf="documents.docCategoryId==docCategory.id && documents.defType == 0;">
                                                                <div>
                                                                    <label><b>{{documents.docList}}</b></label>
                                                                </div>
                                                                <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                    <div class="col-sm-10 mb-2">
                                                                        <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                    </div>
                                                                    <div class="col-sm-2 mb-2">
                                                                        <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docCategoryName,documents.docListName,file.fileName);">
                                                                            <i class="mt-1 fa fa-cloud-download"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="card" style="padding:2%;" *ngIf="documents.docCategoryId==docCategory.id && documents.defType == 1;">
                                                                <div>
                                                                    <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                                </div>
                                                                <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                    <div class="col-sm-10 mb-2">
                                                                        <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                    </div>
                                                                    <div class="col-sm-2 mb-2">
                                                                        <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                            <i class="mt-1 fa fa-cloud-download"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row" *ngIf="deferralDocView">
                                        <h4 class="mt-2">Deferred Documents</h4>
                                        <div class="col-sm-12 card" style="padding: 2%;">
                                            <div class="row">
                                                <div class="col-sm-10">
                                                    <label  class="custom-file" required=""><b>Document Name</b></label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <label  class="custom-file" required=""><b>Proposed ETA</b></label>
                                                </div>
                                            </div>
                                            <div class="default-accordion" *ngFor="let deferral of deferralDocReportArray;let i=index">
                                                <div style="padding:2% 0% 2% 0%;" *ngIf="deferral.defType == 0 && deferral.deferral == 1">
                                                    <div class="row">
                                                        <div class="col-sm-10">
                                                            <label  class="custom-file" required="">{{deferral.docList}}</label>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label  class="custom-file" required="">{{deferral.initialTime}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="padding:2% 0% 2% 0%;" *ngIf="deferral.defType == 0 && deferral.deferral == 2">
                                                    <div class="row">
                                                        <div class="col-sm-5">
                                                            <label  class="custom-file" required="">{{deferral.docList}}</label>
                                                        </div>
                                                        <div class="col-sm-3">
                                                            <label  class="custom-file" required="">{{deferral.documentId}}</label>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label  class="custom-file" required="">{{deferral.docCompletionDate}}</label>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label  class="custom-file" required="">{{deferral.initialTime}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="padding:2% 0% 2% 0%;" *ngIf="deferral.defType == 1 && deferral.deferral == 1">
                                                    <div class="row">
                                                        <div class="col-sm-10">
                                                            <label  class="custom-file" required="">Others - {{deferral.displayName}}</label>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label  class="custom-file" required="">{{deferral.initialTime}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-sm-12" style="display:flex !important">
                                                    <div *ngFor="let rmName of rmNameArray;let i=index">
                                                        <div *ngIf="rmName.email == docRMName">
                                                            <label><b>RM Name : </b></label>
                                                            <label> {{rmName.firstName}} {{rmName.lastName}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card-body default-accordion" style="padding: 12px; margin-top: 50px;">
                                        <h5>Uploaded Documents</h5>
                                        <ngb-accordion #acc="ngbAccordion" *ngFor="let reportDetails of renewalEnhancementReport;let i=index">
                                            <ngb-panel *ngIf="reportDetails.appId != newAppId;">
                                                <ng-template ngbPanelTitle>
                                                    <div *ngIf="reportDetails.appType == 1;">
                                                        Initial Onboarded Documents
                                                    </div>
                                                    <div *ngIf="reportDetails.appType == 2;">
                                                        Renewal Documents {{reportDetails.wfType}}
                                                    </div>
                                                    <div *ngIf="reportDetails.appType == 3;">
                                                        Enhancement Documents {{reportDetails.wfType}}
                                                    </div>
                                                </ng-template>
                                                <ng-template ngbPanelContent>
                                                    <div class="default-accordion" *ngFor="let docType of documentMaster;let i=index">
                                                        <div *ngIf="docType.type == 5;">
                                                            <div *ngFor="let docCategory of docType.documentCategoryEntities;let j=index">
                                                                <h4 class="mt-2">{{docCategory.displayName}}</h4>
                                                                <div *ngFor="let documents of reportDetails.report;let j=index">
                                                                    <div class="card" style="padding:2%;" *ngIf="documents.docCategoryId==docCategory.id && documents.defType == 0;">
                                                                        <div>
                                                                            <label><b>{{documents.docList}}</b></label>
                                                                        </div>
                                                                        <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="col-sm-10 mb-2">
                                                                                <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                            </div>
                                                                            <div class="col-sm-2 mb-2">
                                                                                <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadDocument(documents.appId,documents.docCategoryName,documents.docListName,file.fileName);">
                                                                                    <i class="mt-1 fa fa-cloud-download"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="card" style="padding:2%;" *ngIf="documents.docCategoryId==docCategory.id && documents.defType == 1;">
                                                                        <div>
                                                                            <label><b>{{documents.docList}}</b></label><label>&nbsp; - &nbsp; ({{documents.otherDoc}})</label>
                                                                        </div>
                                                                        <div class="row" *ngFor="let file of documents.fileNames;let l=index">
                                                                            <div class="col-sm-10 mb-2">
                                                                                <label  class="custom-file" required="">{{file.fileName}}</label>
                                                                            </div>
                                                                            <div class="col-sm-2 mb-2">
                                                                                <button type="button" style="background-color:#51bb25 !important" class="btn btn-info me-2" (click)="downloadOtherDocument(documents.appId,documents.docCategoryName,documents.docListName,documents.otherDocName,file.fileName);">
                                                                                    <i class="mt-1 fa fa-cloud-download"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-panel>
                                        </ngb-accordion>
                                    </div>

                                    <button class="btn btn-primary pull-right mt-3" type="submit" *ngIf="cp11Submit"(click)=" nextOpsCheckerRemarks();getRemarks(); ">Next</button>
                                    <button class="btn btn-outline-secondary pull-right mt-3 me-1" type="button" *ngIf="cp11Return" (click)="popupWorkflow(21,-1,'CP_OPERATION_CHECKER_LEAD');">Return</button>
                                    <button class="btn badge-danger pull-right mt-3 me-1" type="button" *ngIf="cp11Reject" (click)="popupWorkflow(21,-2,'CP_OPERATION_CHECKER_LEAD');">Reject</button>
                                    <button class="btn btn-secondary pull-right mt-3 me-1" type="button" (click)="previousOpsCheckerDocDownload();">Previous</button>
                                </div>
                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="OpsCheckerRemarksNp">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(21,2,'CP_OPERATION_CHECKER_LEAD'); " >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousOpsCheckerRemarks();">Previous</button>
                                </div>
                            </ngx-tab>
                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step   [awSelectedStep]="twelveWip" [stepTitle]="'Deferral Approval'" *ngIf="deferralStatus==true" >
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-check"></i>
                        </div>
                    </div>
                </ng-template>
                <div class="card" >
                    <div class="card-body" >
                        <ngx-tabset type="pills" class="tabbed-card width-50">
                            <ngx-tab tabTitle="Basic Details"  class="nav nav-pills nav-primary" [active]="deferralBasicDetails">
                                <br><br><br>
                                <div >
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >Counter Party Basic Details:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let cpBasic of counterPartyList let i = index"style="visibility: visible;">
                                            <div class="row" >
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>PAN</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.panNumber}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Company Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.companyName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>GST Number</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.gstNumber}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>CIN Number</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.cinNumber}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Constitution</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.constitution}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Activity</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.activity}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>City/District</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.city}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>State</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.state}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Source</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.source}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Subsource</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.subSource}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>RM Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.rmName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Customer Contact Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.cusContName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Customer Contact Mobile</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.cusContactNumber}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Customer Contact Email</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{cpBasic.cusContactEmail}}</label>
                                                        </div>
                                                    </div>
                                                    <div *ngIf = "cpBasic.applicationEntity.appType == 2">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Type</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>Renewal</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div *ngIf = "cpBasic.applicationEntity.appType == 3">
                                                        <div class="row">
                                                            <div class="fw-bold col-md-6">
                                                                <label>Type</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>Enhancement</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4">
                                        <div class="fw-bold form-group" >
                                            <label >Proposal Details:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let proposal of proposalList;  let i = index">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Name of the Anchor</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{proposalList[i].customerInfoEntity.customerName}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Product</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{proposal.product}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Proposed</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{proposal.proposed}}</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>Anchor Status</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <div *ngIf="proposalList[i].customerInfoEntity.status;else elseproposalDetailsFlag">
                                                        <label>Active</label>
                                                    </div>
                                                    <ng-template #elseproposalDetailsFlag>
                                                        <label>InActive</label>
                                                    </ng-template>
                                                </div>
                                            </div>
                                            <br> <br> <br>
                                        </div>
                                    </div>
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >Limit Eligibility:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let limitEligibility of limitEligibilityList;  let i = index">
                                            <div class="row" >
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibilityList[i].customerInfoEntity.customerName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Product</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.product}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Regular Limit(Current If any)</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.currentLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Regular Limit(Proposed)</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.proposedLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Eligible Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.eligibleLimit}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Ad-hoc Limit(possible)</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.adhocLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Credit Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.creditPeriod}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Door-To-Door</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.doorToDoor}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Ageing</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.invoiceAgeing}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Expected Growth in To</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.expectedGrowth}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Monthly Average To With Anchor</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.monthlyAverage}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Approtioned Exisiting WC Limits</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.approtionedLimits}}</label>
                                                            <span  class="suffix-rp"> days</span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Exisiting SCF Limit From Others</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.existingScfLimits}}</label>
                                                            <span  class="suffix-rp"> days</span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Model Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.modelLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Customer Requested Amount</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.customerRequestedAmount}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Recommended Amount</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.anchorRecommendedAmount}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Receivables</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.receivables}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Inventory</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.inventory}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Creditors</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.creditor}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Expected monthly turnover with anchor</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.expectedMonthlyTurnOverWithAnchor}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Model Adhoc Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{limitEligibility.modelAdhocLimit}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <br> <br> <br>
                                        </div>
                                    </div>
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >TermSheet Details:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let termSheet of termSheetList; let i = index">
                                            <div class="row" >
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Anchor Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheetList[i].customerInfoEntity.customerName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Product</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.product}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Regular Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.regularLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Ad-hoc Limit</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.adhocLimit}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Credit Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.creditPeriod}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Door-to-Door</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.doorToDoor}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Ageing</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.invoiceAgeing}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Margin</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.margin}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest rate</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestRate}}</label>
                                                            <span  class="suffix-rp">%</span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>PF</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.pf}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Renewal</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.renewal}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Rate Type</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestRateType}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Renewal Period</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.renewalPeriod}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Application Of Interest</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.applyOfInterest}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Interest Borne By</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.interestBorneBy}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Penalty Borne By</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.penaltyBorneBy}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Invoice Funding</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{termSheet.invoiceFunding}}</label>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <br> <br> <br>
                                        </div>
                                    </div>
                                    <div class="card p-4 " *ngFor="let debtProfile of debtProfileList; let i = index">
                                        <div class="fw-bold form-group" >
                                            <label >Debt Profile:</label>
                                            <hr>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Bank/FI</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.bankFI}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Facility Type</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.facilityType}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Tenure</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.tenure}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Date(Sanction)</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.sanctionDate}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Limit Sanctioned:</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.sanctionLimit}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>O/S as On</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.outstandingOnDate}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>EMI</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.emi}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Interest</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.interestRate}}</label>
                                                        <span  class="suffix-rp">%</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Security</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.security}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>General or Specific Limit Calculation</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.specificLimit}}</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="fw-bold col-md-6">
                                                        <label>Remarks</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label>{{debtProfile.remarks}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >Collateral:</label>
                                            <hr>
                                        </div>
                                        <div class="row" *ngFor="let collateral of collateralValueList;  let i = index" style="visibility: visible;">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>{{collateralValueList[i].collateralMasterEntity.displayName}}</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{collateral.value}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >DueDiligenceDetails:</label>
                                            <hr>
                                        </div>
                                        <div class="row" *ngFor="let DueDiligence of dueDiligenceValues;  let i = index" style="visibility: visible;">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>{{dueDiligenceValues[i].dueDiligenceMasterEntity.displayName}}</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{DueDiligence.value}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4 ">
                                        <div class="fw-bold form-group" >
                                            <label >Beneficiary Details:</label>
                                            <hr>
                                        </div>
                                        <div *ngFor="let anchorBeneficiary of beneficiaryList; let i = index" style="visibility: visible;">
                                            <div class="row" >
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Beneficiary Type</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{anchorBeneficiary.benType}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Beneficiary Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{anchorBeneficiary.benName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Bank Name</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{anchorBeneficiary.bankName}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Bank Account Number</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{anchorBeneficiary.bankAcctNumber}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Bank IFSC Code</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{anchorBeneficiary.bankifscCode}}</label>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="fw-bold col-md-6">
                                                            <label>Bank Branch</label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label>{{anchorBeneficiary.bankBranchName}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4 " style="visibility: hidden;">
                                        <div class="fw-bold form-group"style="visibility: visible;" >
                                            <label >Fund Request Details:</label>
                                            <hr>
                                        </div>
                                        <div class="row" *ngFor="let fundReq of fundReqDetails;  let i = index" style="visibility: visible;">
                                            <div class="row">
                                                <div class="fw-bold col-md-6">
                                                    <label>{{fundReqDetails[i].fundRequirementMasterEntity.displayName}}</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <label>{{fundReq.value}}</label>
                                                </div>
                                            </div>
                                            <br><br>
                                        </div>
                                    </div>



                                </div>

                                <button class="btn btn-primary pull-right me-1"  type="submit" (click)="nextBasicDeferral();" >Next</button>

                            </ngx-tab>

                            <ngx-tab tabTitle="Deferral Approved ETA" nav class="nav nav-pills nav-primary" *ngIf="true" [active]="deferralApprovalNp">
                                <div class="card-body" >
                                    <div *ngIf = "deferralDocCheck"><br>
                                        <label class="fw-bold ms-2">Deferral Documents:</label>
                                        <table class="table table-border-vertical" style="border:1; width:100%;">
                                            <col style="width:25%">
                                            <col style="width:25%">
                                            <col style="width:50%">
                                            <thead>
                                            <tr>
                                                <th scope="col">Document</th>
                                                <th scope="col">Estimated Arrival Time</th>
                                                <th scope="col">Decision</th>
                                            </tr>
                                            </thead>
                                            <tbody *ngFor="let deferralDoc of DeferralDocArray; let i = index">
                                            <tr>
                                                <td>
                                                    <label>{{deferralDoc.documentName}}</label>
                                                </td>
                                                <td>
                                                    <div  *ngIf="deferralDoc.initialTime;else elseResults">
                                                        <label>{{deferralDoc.initialTime}}</label>
                                                    </div>
                                                    <ng-template #elseResults >
                                                        <lable></lable>
                                                    </ng-template>
                                                </td>
                                                <td>
                                                    <div class="row">
                                                        <div class="col-6"><button class="btn btn-success" id="{{deferralDoc.id}}1" (click)="storeDeferralStatus(deferralDoc.id,1);" type="submit">Approve</button></div>
                                                        <div class="col-6"> <button class="btn btn-light" id="{{deferralDoc.id}}3" *ngIf="deferralDoc.deferral != 2" (click)="storeDeferralStatus(deferralDoc.id,3);" type="submit" >Waive Off</button></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div *ngIf = "deferralOtherDocCheck"><br>
                                        <label class="fw-bold ms-2">Other Documents:</label>
                                        <table class="table table-border-vertical"  style="border:1; width:100%;">
                                            <col style="width:25%">
                                            <col style="width:25%">
                                            <col style="width:50%">
                                            <thead>
                                            <tr>
                                                <th scope="col">Document</th>
                                                <th scope="col">Estimated Arrival Time</th>
                                                <th scope="col">Decision</th>
                                            </tr>
                                            </thead>
                                            <tbody  *ngFor="let otherDefDoc of OtherDeferralDocArray; let i = index">
                                            <tr>
                                                <td>
                                                    <label>{{otherDefDoc.displayName}}</label>
                                                </td>
                                                <td>
                                                    <div  *ngIf="otherDefDoc.initialTime;else elseResults">
                                                        <label>{{otherDefDoc.initialTime}}</label>
                                                    </div>
                                                    <ng-template #elseResults >
                                                        <lable></lable>
                                                    </ng-template>
                                                </td>
                                                <td>
                                                    <div class="row">
                                                        <div class="col-6"><button class="btn btn-success" id="{{otherDefDoc.id}}1" (click)="storeOtherDocDeferralStatus(otherDefDoc.id,1);" type="submit">Approve</button></div>
                                                        <div class="col-6"> <button class="btn btn-light"  id="{{otherDefDoc.id}}3" (click)="storeOtherDocDeferralStatus(otherDefDoc.id,3);"  type="submit" >Waive Off</button></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <br>
                                    <div class="row  mt-3">
                                        <div class="col-sm-12" style="display:flex !important">
                                            <div class="fw-bold">
                                                <label>RM Name : </label>
                                            </div>
                                            <div *ngFor="let rmName of rmNameArray;let i=index">
                                                <div *ngIf="rmName.email == docRMName">
                                                    <label> {{rmName.firstName}} {{rmName.lastName}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary pull-right me-1" (click)="nextDeferralApproval(); getRemarks();" type="submit" >Next</button>
                                    <button class="btn badge-danger pull-right me-1" type="button" (click)="popupWorkflow(28,-2,'CP_DEFERRAL_COMMITTEE_LEAD');">Reject</button>
                                    <button class="btn btn-secondary pull-right me-1" (click)="previousDeferral();" type="submit" >Previous</button>
                                </div>

                            </ngx-tab>

                            <ngx-tab tabTitle = "Remarks" nav class = "nav-pills nav-primary" [active]="deferralRemarksNp">
                                <div class="tab-pane fade show " style="width:100%; important!">
                                    <div class="card">
                                        <div class="fw-bold form-group mt-2 ms-2" >
                                            <label >Remarks</label>
                                            <hr>
                                        </div>
                                        <div class="table-responsive" style="visibility: visible;">
                                            <table class="table table-border-vertical">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Stage</th>
                                                    <th scope="col">Status</th>
                                                    <th scope="col">Remarks</th>
                                                </tr>
                                                </thead>
                                                <tbody *ngFor="let remarks of remarkArray;let i=index">
                                                <tr>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.stage.stageId =='CP0'">
                                                            <label>Auto-Renewal CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP1'">
                                                            <label>Business</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP2'">
                                                            <label>Assign Underwriter</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP3'">
                                                            <label>Credit CPA</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP4'">
                                                            <label>Under Writer Override</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP5'">
                                                            <label>CAM upload</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP6'">
                                                            <label>Under Writer Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP7'">
                                                            <label>Under Writer Pd Review</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP8'">
                                                            <label>Commercial/Credit</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP9'">
                                                            <label>Rm Customer Acceptance</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP10'">
                                                            <label>Operation Maker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP11'">
                                                            <label>Operation Checker</label>
                                                        </div>
                                                        <div *ngIf="remarks.stage.stageId =='CP12'">
                                                            <label>Deferral Approval</label>
                                                        </div>
                                                    </td>
                                                    <td scope="row" >
                                                        <div *ngIf="remarks.status =='2'">
                                                            <label><i class="fa fa fa-check-circle-o" style="color:#8ab34d;font-size: 20px !important;"  placement="right" ngbTooltip="Approved"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='-1'">
                                                            <label><i class="fa fa-arrow-circle-o-left" style="color:#587c95;font-size: 20px !important;"  placement="left" ngbTooltip="Return"></i></label>
                                                        </div>
                                                        <div *ngIf="remarks.status =='0'">
                                                            <label><i class="fa fa-adjust" style="color:#ffcc00;font-size: 20px !important;"  placement="right" ngbTooltip="In-Progress"></i></label>
                                                        </div>
                                                    </td>

                                                    <td scope="row" >
                                                        {{remarks.remarks}}
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class ="btn btn btn-primary pull-right me-1" type="button" (click)="popupWorkflow(28,2,'CP_DEFERRAL_COMMITTEE_LEAD'); " >Submit</button>
                                    <button class="btn btn-secondary pull-right me-1" type="button" (click)="previousDeferralRemarks();">Previous</button>
                                </div>
                            </ngx-tab>
                        </ngx-tabset>
                    </div>
                </div>
            </form>
        </aw-wizard-step>

        <aw-wizard-step [stepTitle]="'Onboarded on LMS'" [(awCompletedStep)]="elevenComplete" [awSelectedStep]="elevenWip">
            <form>
                <ng-template awWizardStepSymbol>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fa fa-archive"></i></div>
                    </div>
                </ng-template>
                <div class="card">
                    <div class=" mt-4 ms-4 tab-pane fade show">
                        <div class="fw-bold form-group" >
                            <label >CounterParty Basic Details:</label>
                            <hr>
                        </div>
                        <div class="row">
                            <div class="col-md-6" *ngFor="let cpBasic of counterPartyList let i = index">
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>PAN</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.panNumber}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>Company Name</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.companyName}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>GST Number</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.gstNumber}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>CIN Number</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.cinNumber}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>Constitution</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.constitution}}</label>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>City/District</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.city}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>State</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.state}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>Source</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.source}}</label>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>Subsource</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.subSource}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>RM Name</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.rmName}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>Contact Name</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.cusContName}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>Contact Mobile</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.cusContactNumber}}</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="fw-bold col-md-6">
                                        <label>Contact Email</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label>{{cpBasic.cusContactEmail}}</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">

                                <div  *ngIf="storeProcedureFlag; else elsestoreProcedureFlag">
                                    <a class="logo" routerLink='/'>
                                        <img class="img-fluid for-light" style="width:160px" src="assets/images/verified-images/success-image.jpg" alt="VerifiedImage">
                                    </a>
                                </div>
                                <ng-template #elsestoreProcedureFlag>
                                    <div >
                                        <a class="logo" routerLink='/'>

                                        </a>
                                    </div>
                                </ng-template>
                            </div>

                        </div>
                    </div>
                </div>
            </form>
        </aw-wizard-step>
    </aw-wizard>


<div *ngIf="!show">
    You don't have access to view this page. Kindly go to inbox.
</div>
